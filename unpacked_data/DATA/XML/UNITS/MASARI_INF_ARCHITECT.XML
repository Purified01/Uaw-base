<?xml version="1.0"?>
<MASARI_INF_Architect_XML>

   <!-- **************************************************************************************** -->
   <!-- *** UNIT(S) **************************************************************************** -->
   <!-- **************************************************************************************** -->

   <X13_Masari_Units Name="Masari_Architect">

      <!-- ART -->
      <!-- STUB FOR ELIE -->
      <Land_Model_Name>ZI_Architect.ALO</Land_Model_Name>
      <Scale_Factor>1.2</Scale_Factor>
      <Occlusion_Silhouette_Enabled>1</Occlusion_Silhouette_Enabled>
      <!-- <SurfaceFX_Name>Masari_Architect_Footprint</SurfaceFX_Name> -->
      <AssetBank> BANK_MASARI </AssetBank>

      <!-- INTERFACE -->
      <Icon_Name> i_icon_mi_architect.tga  </Icon_Name>
      <Text_ID>TEXT_UNIT_MASARI_ARCHITECT</Text_ID>
      <GUI_Scene_Name> HealthBar_Scene_Medium </GUI_Scene_Name>
      <GUI_Receives_Input> false </GUI_Receives_Input>
      <GUI_Min_Scale> 0.3 </GUI_Min_Scale>
      <GUI_Max_Scale> 2.5 </GUI_Max_Scale>
      <GUI_Default_Scale> 0.5 </GUI_Default_Scale>
      <GUI_World_Offset> 0.0, 0.0, -10 </GUI_World_Offset>
      <Select_Box_Scale>20</Select_Box_Scale>
      <Select_Box_Z_Adjust>3.0f</Select_Box_Z_Adjust>

      <!-- ATTRIBUTES -->
      <LOD_Bias>16</LOD_Bias>
      <Affiliation>Masari</Affiliation>
      <Victory_Relevant> No </Victory_Relevant>
      <CategoryMask> Small, Organic, RadiationHurts </CategoryMask>
      <Weather_Category>Infantry</Weather_Category>
      <Can_Fall_From_Bridge> true </Can_Fall_From_Bridge>
      <Importance> 0.2 </Importance>
      <Shot_Type> Infantry </Shot_Type>

      <Attributes SubObjectList="Yes">
         <Is_Phasable> false </Is_Phasable>
         <Is_Immune_To_Mind_Control> true </Is_Immune_To_Mind_Control>
         <Is_Immune_To_Virus> true </Is_Immune_To_Virus>
			<Is_Immune_To_Amplifier_Lockdown> true </Is_Immune_To_Amplifier_Lockdown>
			<Tactical_Sell_Percent_Modifier> -0.5 </Tactical_Sell_Percent_Modifier>
			<Tactical_Sell_Time_Seconds> 2.0 </Tactical_Sell_Time_Seconds>
         <Can_Garrison_Buildings> true </Can_Garrison_Buildings>
         <DMA_Max> 200 </DMA_Max>
         <DMA_Regen_Rate> 6 </DMA_Regen_Rate>
      </Attributes>


      <!-- MOVEMENT -->
      <MovementClass>Infantry</MovementClass>
      <OccupationStyle>1x1</OccupationStyle>
      <Max_Speed>1.4</Max_Speed>
      <Max_Rate_Of_Turn>30.0</Max_Rate_Of_Turn>
      <Space_Layer> LandDynamic </Space_Layer>
      <UnitCollisionClass> Infantry </UnitCollisionClass>
      <OverrideAcceleration> .25 </OverrideAcceleration>
      <OverrideDeceleration> .25 </OverrideDeceleration>
      <FormationSpacing> .75 </FormationSpacing>
      <FormationOrder> 8 </FormationOrder>
      <FormationGrouping> Standard </FormationGrouping>
      <FormationRaggedness> .6 </FormationRaggedness>
      <Custom_Soft_Footprint_Radius> 5.5 </Custom_Soft_Footprint_Radius>
      <Custom_Hard_XExtent> 4.0 </Custom_Hard_XExtent>
      <Custom_Hard_YExtent> 4.0 </Custom_Hard_YExtent>
      <Movement_Animation_Speed> 1.25 </Movement_Animation_Speed>

      <!-- CONFLICT -->
      <Is_Attackable> true </Is_Attackable>
      <Collidable_By_Projectile_Living>Yes</Collidable_By_Projectile_Living>
      <Collidable_By_Projectile_Dead>Yes</Collidable_By_Projectile_Dead>
      <Land_FOW_Reveal_Range>160.0</Land_FOW_Reveal_Range>
      <Attack_Category_Restrictions> Resource | Resource_INST </Attack_Category_Restrictions>
      <Ranged_Target_Z_Adjust>9.0</Ranged_Target_Z_Adjust>

      <Tactical_Health> 200 </Tactical_Health>

      <!-- BEHAVIORS -->

      <LandBehavior>
         SELECTABLE,
         GUI,
         RADAR_MAP_VISIBLE,
         WALK_LOCOMOTOR,
         FORMATION,
         SURFACE_FX,
         IDLE,
         TARGETING,
         REVEAL,
         SQUASH,
         HIDE_WHEN_FOGGED,
         UNIT_AI,
         BALLISTIC,
         ABILITY_COUNTDOWN,
         DAMAGE_TRACKING,
         AI_RECRUITABLE,
         AI_TARGET,
         TACTICAL_SELL,
         TELEPORT_PAD,
         EFFECT_GENERATOR,
         ATTRIBUTE_DIRECTORY,
         EFFECT_REGISTRY
         ABILITY_COUNTDOWN,
         SWITCH_TYPE,
         <!-- ELEMENTAL_MODE must be last because it causes add behavior to be called -->
         ELEMENTAL_MODE
      </LandBehavior>

      <BehaviorType Name="ArmorAndDamageBehaviorType">
         <Armor_Type> Armor_Masari_Infantry_Light </Armor_Type>
      </BehaviorType>

      <BehaviorType Name="TacticalSellBehaviorType">
			<Sell_Effect_Generator_Name>MasariSellGenerator</Sell_Effect_Generator_Name>
      </BehaviorType>

      <BehaviorType Name="ProductionBehaviorType">
         <Size_Value> 10 </Size_Value>
         <Build_Cost_Credits> 13 </Build_Cost_Credits>
         <Build_Time_Seconds> 12 </Build_Time_Seconds>
         <Is_Research_Tech_Tree_Lockable> Yes </Is_Research_Tech_Tree_Lockable>
         <Extra_Enablers_Increase_Build_Rate> 1.0 </Extra_Enablers_Increase_Build_Rate>
         <!-- 
				Maria 11.07.2006 
				This flag determines which types are used to populate the
				build menu in global mode.
				Adam I 12.13.06
				999999 values added, not a buildable global unit!
			-->
         <Is_Strategic_Buildable_Type> No </Is_Strategic_Buildable_Type>
         <Strategic_UI_Build_Menu_Order>0</Strategic_UI_Build_Menu_Order>
      </BehaviorType>

      <BehaviorType Name="BuildableObjectBehaviorType">
         <Tactical_Production_Queue>Tactical_Units</Tactical_Production_Queue>
         <Tactical_Build_Cost_Campaign> 30 </Tactical_Build_Cost_Campaign>
         <Tactical_Build_Cost_Multiplayer> 30 </Tactical_Build_Cost_Multiplayer>
         <Tactical_Build_Time_Seconds> 23 </Tactical_Build_Time_Seconds>
         <Tactical_UI_Build_Queue_Order> 0 </Tactical_UI_Build_Queue_Order>
      </BehaviorType>

     <BehaviorType name="AIBehaviorType">
       <AI_Combat_Power> 1 </AI_Combat_Power>
       <Idle_Chase_Range> 20.0 </Idle_Chase_Range>  <!-- Double click guard area Keep very small-->
       <Guard_Chase_Range> 135.0 </Guard_Chase_Range>  <!-- Guard radius for unit-->
       <Autonomous_Move_Extension_Vs_Attacker> 1.0 </Autonomous_Move_Extension_Vs_Attacker>  <!--Range outside of guard area unit will move-->
       <Attack_Move_Response_Range> 20.0 </Attack_Move_Response_Range>  <!-- When given a attack move command unit will travel this distance from path to attack-->
       <AI_Target_Level>Individual_Or_Group</AI_Target_Level>
		  <Attack_Score_Rating> 0.0 </Attack_Score_Rating>
		  <Scout_Score_Rating> 0.0 </Scout_Score_Rating>
		  <Guerilla_Score_Rating> 0.0 </Guerilla_Score_Rating>
	  </BehaviorType>

     <BehaviorType Name="WeaponBehaviorType">
         <Can_Attack_Without_Weapon_Behavior> true </Can_Attack_Without_Weapon_Behavior>
         <Targeting_Stickiness_Time_Threshold>5.0</Targeting_Stickiness_Time_Threshold>
         <Targeting_Priority_Set> AntiDefaultBridge </Targeting_Priority_Set>
         <Targeting_Fire_Inaccuracy> 1.0 </Targeting_Fire_Inaccuracy>
         <Targeting_Min_Attack_Distance> 0.0 </Targeting_Min_Attack_Distance>
         <Targeting_Max_Attack_Distance> 250.0 </Targeting_Max_Attack_Distance>
      </BehaviorType>

      <BehaviorType Name="EncyclopediaBehaviorType">
         <Icon_Name> i_icon_mi_architect.tga  </Icon_Name>
      </BehaviorType>

      <BehaviorType Name="TooltipBehaviorType">
         <Tooltip_Description_Text_ID> TEXT_TOOLTIP_DESCRIPTION_MASARI_ARCHITECT_LIGHT </Tooltip_Description_Text_ID>
         <Tooltip_Category> TEXT_TOOLTIP_CATEGORY_SUMMON </Tooltip_Category>

         <!-- Types that must be ignored as dependencies must have their production category set to None. -->
         <Production_Tooltip_Category> Ignore </Production_Tooltip_Category>

         <Researched_Upgrades>
		TEXT_MASARI_RESEARCH_TITLE_DARK_MATTER_AFINITY
		TEXT_MASARI_RESEARCH_TITLE_DARK_MATTER_MASTERY
		TEXT_MASARI_RESEARCH_TITLE_RECONSTRUCTION
		TEXT_MASARI_RESEARCH_TITLE_CLEANSING_ENERGY
         </Researched_Upgrades>
	 
      </BehaviorType>

      <BehaviorType Name="DeathFXBehaviorType">
         <Specific_Death_Anim_Type> DIE </Specific_Death_Anim_Type>
         <Death_Clone> Damage_Default, Masari_Architect_Death_Clone_Resource </Death_Clone>
         <Death_Clone>Damage_Novus_Amplifier_Sonic_Resonance, Disintegrate_Death_Clone</Death_Clone>
         <Death_Spawn> Damage_Alien_AE_Radiation, Alien_Mutant_Slave </Death_Spawn>
         <Death_Spawn> Damage_Alien_AE_Radiation, Alien_Mutant_Slave_02 </Death_Spawn>
         <Death_Spawn> Damage_Alien_AE_Radiation, Alien_Mutant_Slave_03 </Death_Spawn>
			<Death_Spawn> Damage_Alien_Mutant_Slave_Claws, Alien_Mutant_Slave </Death_Spawn>
			<Death_Spawn> Damage_Alien_Mutant_Slave_Claws, Alien_Mutant_Slave_02 </Death_Spawn>
			<Death_Spawn> Damage_Alien_Mutant_Slave_Claws, Alien_Mutant_Slave_03 </Death_Spawn>
         <Death_Fade_Time>.25</Death_Fade_Time>
         <Death_Persistence_Duration>10</Death_Persistence_Duration>
         <Death_Clone_Keep_Behaviors> EFFECT_REGISTRY </Death_Clone_Keep_Behaviors>
         <Death_Speed_Min>1.0</Death_Speed_Min>
         <Death_Speed_Max>2.0</Death_Speed_Max>
      </BehaviorType>

      <BehaviorType Name="DeathFXBehaviorType">
         <Specific_Death_Anim_Type> DIE </Specific_Death_Anim_Type>
         <Death_Clone> Damage_Default, Masari_Architect_Death_Clone_Resource </Death_Clone>
         <Death_Spawn> Damage_Alien_AE_Radiation, Alien_Mutant_Slave </Death_Spawn>
         <Death_Spawn> Damage_Alien_AE_Radiation, Alien_Mutant_Slave_02 </Death_Spawn>
         <Death_Spawn> Damage_Alien_AE_Radiation, Alien_Mutant_Slave_03 </Death_Spawn>
         <Death_Fade_Time>.25</Death_Fade_Time>
         <Death_Persistence_Duration>10</Death_Persistence_Duration>
      </BehaviorType>

      <BehaviorType Name="BallisticBehaviorType">
         <Ballistic_Weight>1.5</Ballistic_Weight>
         <!--           <Ballistic_Bounce>0.5</Ballistic_Bounce> -->
      </BehaviorType>

      <BehaviorType Name="SFXBehaviorType">
         <SFXEvent_Fire> </SFXEvent_Fire>
         <SFXEvent_Weapon_Firing_Loop> </SFXEvent_Weapon_Firing_Loop>
         <SFXEvent_Select>Unit_Select_Masari_Architect</SFXEvent_Select>
         <SFXEvent_Move>Unit_Move_A_Masari_Architect</SFXEvent_Move>
         <SFXEvent_Move_At_Top_Speed>Unit_Move_B_Masari_Architect</SFXEvent_Move_At_Top_Speed>
         <SFXEvent_Attack>Unit_Attack_A_Masari_Architect</SFXEvent_Attack>
         <SFXEvent_Attack_At_Top_Speed>Unit_Attack_B_Masari_Architect</SFXEvent_Attack_At_Top_Speed>
         <SFXEvent_Turret_Rotating_Loop> </SFXEvent_Turret_Rotating_Loop>
         <Death_SFXEvent_Start_Die> Unit_Death_Masari_Male </Death_SFXEvent_Start_Die>
         <SFXEvent_Engine_Idle_Loop> </SFXEvent_Engine_Idle_Loop>
         <SFXEvent_Engine_Moving_Loop> </SFXEvent_Engine_Moving_Loop>
         <SFXEvent_Unit_Lost />
         <SFXEvent_Tactical_Build_Started>GUI_BUILD_Infantry</SFXEvent_Tactical_Build_Started>
         <SFXEvent_Tactical_Build_Complete>Unit_Select_Masari_Architect</SFXEvent_Tactical_Build_Complete>
         <SFXEvent_Tactical_Build_Cancelled>GUI_BUILD_Infantry_Canceled</SFXEvent_Tactical_Build_Cancelled>

         <!-- Maria 05.01.2006 - Adding build sounds for Global production -->
         <SFXEvent_Build_Started>GUI_BUILD_Infantry</SFXEvent_Build_Started>
         <SFXEvent_Build_Complete>Unit_Select_Masari_Architect</SFXEvent_Build_Complete>
         <SFXEvent_Build_Cancelled>GUI_BUILD_Infantry_Canceled</SFXEvent_Build_Cancelled>

      </BehaviorType>

      <BehaviorType Name="BlobShadowBehaviorType">
         <No_Reflection_Below_Detail_Level>1</No_Reflection_Below_Detail_Level>
         <No_Refraction_Below_Detail_Level>1</No_Refraction_Below_Detail_Level>
      </BehaviorType>

      <BehaviorType Name="GUIBehaviorType">
         <GUI_Bracket_Size>1</GUI_Bracket_Size>
         <!-- Maria 05.18.2006  Data needed for the models attached to the mouse in Global -->
         <GUI_Is_Top_View> No </GUI_Is_Top_View>
         <GUI_Rotate_Angle_Degrees> 0.0 </GUI_Rotate_Angle_Degrees>
         <GUI_Is_Model_Shifted_Down> Yes </GUI_Is_Model_Shifted_Down>
         <GUI_Strategic_Mode_Scale> 0.1 </GUI_Strategic_Mode_Scale>
         <GUI_Shift_Factor> 15.0 </GUI_Shift_Factor>
      </BehaviorType>

      <BehaviorType Name="LockableByDynamicScannerBehaviorType">
         <Dynamic_Scan_Target_Effect_Particle_Name>Dynamic_Scan_Target</Dynamic_Scan_Target_Effect_Particle_Name>
         <Dynamic_Scan_Target_Lock_Max_Delay_Seconds>2.0</Dynamic_Scan_Target_Lock_Max_Delay_Seconds>
         <Dynamic_Scan_Target_Lock_Min_Delay_Seconds>1.0</Dynamic_Scan_Target_Lock_Min_Delay_Seconds>
      </BehaviorType>

      <BehaviorType Name="RadarMapBehaviorType">
         <Radar_Icon_Size>0.02  0.02</Radar_Icon_Size>
      </BehaviorType>

      <BehaviorType Name="FleetBehaviorType">
         <!-- Maria 05.24.2006 - How much space does the unit take up -->
         <Unit_Pop_Cap> 2 </Unit_Pop_Cap>
      </BehaviorType>

      <BehaviorType Name="CrushBehaviorType">
         <Crush_Defense> 10 </Crush_Defense>
         <Crush_Power> 4 </Crush_Power>
      </BehaviorType>

      <BehaviorType Name="TacticalBuildObjectsBehaviorType">
         <Is_Tactical_Base_Builder>Yes</Is_Tactical_Base_Builder>
      </BehaviorType>

      <BehaviorType Name="TeleportPadBehaviorType">
         <Teleporter_Access_Types> ALIEN_RELOCATOR </Teleporter_Access_Types>
      </BehaviorType>


      <BehaviorType Name="ElementalModeType">
         <Elemental_Object_Types> Fire, Masari_Architect_Fire </Elemental_Object_Types>
         <Elemental_Object_Types> Ice, Masari_Architect_Ice </Elemental_Object_Types>
      </BehaviorType>


      <BehaviorType Name="LuaScriptBehaviorType">
         <Lua_Land_Behaviors>Masari_Constructor_Unit_Behavior, TacticalBaseBuilder, Defensive_AI_Unit_Behavior </Lua_Land_Behaviors>
         <Lua_Script_Data>
				Masari_Constructor = {}
				Masari_Constructor.HEAL_RANGE = 710.0
				Masari_Constructor.ABILITY_RANGE = 80.0
				Masari_Constructor.HEAL_ABILITY = "Masari_Architect_Heal_Unit_Ability"
				Masari_Constructor.BUILD_ABILITY = "Masari_Tactical_Build_Unit_Ability"
				Masari_Constructor.MAX_BUILDERS = 2

				BUILDER_DATA = {}
				BUILDER_DATA.ABILITY_NAME = "Masari_Tactical_Build_Unit_Ability"

				DefensiveAI = {}
				DefensiveAI.KillTurret = false
				DefensiveAI.RunDistance = 200.0
				DefensiveAI.RunHealth = 1.0
				DefensiveAI.NoAttacking = true

			</Lua_Script_Data>

      </BehaviorType>

      <!-- =================================================================================================
		== [11/16/2006] This behavior type defines data for Type_Switch behavior - Oksana Kubushyna
		================================================================================================== -->
      <BehaviorType Name="TypeSwitchBehaviorType">
         <!-- List of types this object can switch to - This is mainly needed to inforce build limits and must be
						only added to the base type used for production dependencies purposes -->
         <Type_Switch_Types> Masari_Architect_Fire, Masari_Architect_Ice  </Type_Switch_Types>
         <Switch_Effect_Generator_Name> MasariSwitchGenerator </Switch_Effect_Generator_Name>
      </BehaviorType>

      <Unit_Abilities_Data SubObjectList="Yes">

         <Unit_Ability Name="Masari_Tactical_Build_Unit_Ability">
            <Type>TACTICAL_BUILD_STRUCTURE</Type>
            <GUI_Activated_Ability_Name> Masari_Architect_Build_Ability </GUI_Activated_Ability_Name>
            <Effect_Generator_Name> Masari_Architect_Build_Effect_Generator </Effect_Generator_Name>
            <Is_Modal>Yes</Is_Modal>
            <Can_Be_Canceled_By_User>No</Can_Be_Canceled_By_User>
            <Targeting_Type> ALLY_OBJECT </Targeting_Type>
         </Unit_Ability>

         <Unit_Ability Name="Masari_Architect_Heal_Unit_Ability">
            <Type>EFFECT_GENERATOR</Type>
            <GUI_Activated_Ability_Name>Masari_Architect_Heal_Unit_Ability</GUI_Activated_Ability_Name>
            <Targeting_Type> ALLY_OBJECT </Targeting_Type>
            <Effect_Generator_Name> Masari_Architect_Heal_Unit_Generator  </Effect_Generator_Name>
         </Unit_Ability>


         <Unit_Ability Name="Masari_Architect_Assist_Structure_Ability">
            <Type>EFFECT_GENERATOR</Type>
            <GUI_Activated_Ability_Name>Masari_Architect_Assist_Structure_Ability</GUI_Activated_Ability_Name>
            <Targeting_Type> ALLY_OBJECT </Targeting_Type>
            <Effect_Generator_Name> Masari_Architect_Assist_Structure_Generator  </Effect_Generator_Name>
         </Unit_Ability>

         <Unit_Ability Name="Masari_Architect_Assist_Harvesting_Structure_Ability">
            <Type>EFFECT_GENERATOR</Type>
            <GUI_Activated_Ability_Name>Masari_Architect_Assist_Harvesting_Structure_Ability</GUI_Activated_Ability_Name>
            <Targeting_Type> ALLY_OBJECT </Targeting_Type>
            <Effect_Generator_Name> Masari_Architect_Assist_Harvesting_Structure_Generator  </Effect_Generator_Name>
         </Unit_Ability>


         <Unit_Ability Name="Masari_Architect_Assist_Attack_Capable_Structure_Ability">
            <Type>EFFECT_GENERATOR</Type>
            <GUI_Activated_Ability_Name>Masari_Architect_Assist_Attack_Capable_Structure_Ability</GUI_Activated_Ability_Name>
            <Targeting_Type> ALLY_OBJECT </Targeting_Type>
            <Effect_Generator_Name> Masari_Architect_Assist_Attack_Capable_Structure_Generator  </Effect_Generator_Name>
         </Unit_Ability>




         <!--<Unit_Ability Name="Masari_Upgrade_HP_Unit_Ability">
				<Type>EFFECT_GENERATOR</Type>
				<GUI_Activated_Ability_Name>Masari_Architect_Upgrade_HP_Ability</GUI_Activated_Ability_Name>
				<Targeting_Type> ALLY_OBJECT </Targeting_Type>
				<Effect_Generator_Name> Masari_Architect_Upgrade_HP_Generator  </Effect_Generator_Name>
			</Unit_Ability>-->

         <Unit_Ability Name="Masari_Rebuild_Unit_Ability">
            <Type>EFFECT_GENERATOR</Type>
            <GUI_Activated_Ability_Name>Masari_Architect_Rebuild_Special_Ability</GUI_Activated_Ability_Name>
            <Targeting_Type> ALLY_OBJECT </Targeting_Type>
            <Effect_Generator_Name> Masari_Architect_Rebuild_Effect_Generator  </Effect_Generator_Name>
         </Unit_Ability>

         <Unit_Ability Name="Enter_Sentry_Unit_Ability">
            <Targeting_Type> ALLY_OBJECT </Targeting_Type>
            <Type>EFFECT_GENERATOR</Type>
            <GUI_Activated_Ability_Name> Enter_Sentry_Special_Ability </GUI_Activated_Ability_Name>
            <Effect_Generator_Name> Enter_Sentry_Effect_Generator </Effect_Generator_Name>
         </Unit_Ability>

			<Unit_Ability Name="Masari_Architect_Repair_Bridge">
				<Type>EFFECT_GENERATOR</Type>
 				<Is_Modal>Yes</Is_Modal>
				<GUI_Activated_Ability_Name> Masari_Architect_Repair_Bridge_Ability </GUI_Activated_Ability_Name>
				<Effect_Generator_Name> Masari_Architect_Repair_Bridge_Generator </Effect_Generator_Name>
				<Terminate_Effect_On_Move_Command> true </Terminate_Effect_On_Move_Command>
				<Usable_While_Garrisoned> false </Usable_While_Garrisoned>
				<Targeting_Type> ANY_OBJECT </Targeting_Type>
            <Disable_Unit_Ability_Attribute> Is_Mind_Controlled </Disable_Unit_Ability_Attribute>
         </Unit_Ability>
			
      </Unit_Abilities_Data>

      <Abilities SubObjectList="Yes">
         
         <!-- Assists BEFORE heal - Oksana-->
         <Tactical_Build_Structure_Ability Name="Masari_Architect_Build_Ability">
            <Activation_Min_Range> 0.0  </Activation_Min_Range>
            <Activation_Max_Range> 100.0 </Activation_Max_Range>
            <Applicable_Unit_Categories> TacticalBuildableStructure </Applicable_Unit_Categories>
            <Activation_Style> Special_Attack </Activation_Style>
            <Pre_Build_Anim_Type />
            <Building_Anim_Type>ANIM_ATTACK</Building_Anim_Type>
            <Post_Build_Anim_Type>Anim_Idle</Post_Build_Anim_Type>
            <SFX_Building_Loop />
            <!-- played through effect system -->
            <Should_Use_Line_Of_Sight> false </Should_Use_Line_Of_Sight>


            <!-- Any new move/attack order will cancel this ability -->
            <Movement_Should_Cancel_Ability>No</Movement_Should_Cancel_Ability>

            <Terminate_Effect_On_Move_Command> true </Terminate_Effect_On_Move_Command>
            <Deactivate_On_User_Attack_Order> true </Deactivate_On_User_Attack_Order>

				<Max_Channel_Range> 125.0 </Max_Channel_Range>
				<!-- the following is needed when switching element type -->
				<Clear_Targeting_On_Finish> false </Clear_Targeting_On_Finish>
				
         </Tactical_Build_Structure_Ability>

         <Effect_Generator_Ability Name="Masari_Architect_Assist_Harvesting_Structure_Ability">
            <Activation_Min_Range> 0 </Activation_Min_Range>
            <Activation_Max_Range> 60.0 </Activation_Max_Range>
				<!-- In case we get teleported a long way away-->
				<Max_Channel_Range> 200.0 </Max_Channel_Range>
				<Effect_Generator_Name> Masari_Architect_Assist_Harvesting_Structure_Generator </Effect_Generator_Name>
            <Activation_Style> Special_Attack </Activation_Style>
            <Can_Target_Enemies>No</Can_Target_Enemies>
            <Can_Target_Allies>Yes</Can_Target_Allies>
            <Can_Target_Neutral>No</Can_Target_Neutral>
            <Generating_Anim_Type>ATTACK_SPECIAL_A</Generating_Anim_Type>
            <Face_Target> true </Face_Target>

				<Applicable_Unit_Types>
               Masari_Elemental_Collector,
               Masari_Elemental_Collector_Fire,
               Masari_Elemental_Collector_Ice
            </Applicable_Unit_Types>


            <!-- Any new move/attack order will cancel this ability -->
            <Movement_Should_Cancel_Ability>No</Movement_Should_Cancel_Ability>

            <Terminate_Effect_On_Move_Command> true </Terminate_Effect_On_Move_Command>
            <Deactivate_On_User_Attack_Order> true </Deactivate_On_User_Attack_Order>
         </Effect_Generator_Ability>

         <Effect_Generator_Ability Name="Masari_Architect_Assist_Attack_Capable_Structure_Ability">
            <Activation_Min_Range> 0 </Activation_Min_Range>
            <Activation_Max_Range> 60.0 </Activation_Max_Range>
				<!-- In case we get teleported a long way away-->
				<Max_Channel_Range> 200.0 </Max_Channel_Range>
				<Effect_Generator_Name> Masari_Architect_Assist_Attack_Capable_Structure_Generator </Effect_Generator_Name>
            <Activation_Style> Special_Attack </Activation_Style>
            <Can_Target_Enemies>No</Can_Target_Enemies>
            <Can_Target_Allies>Yes</Can_Target_Allies>
            <Can_Target_Neutral>No</Can_Target_Neutral>
            <Generating_Anim_Type>ATTACK_SPECIAL_A</Generating_Anim_Type>
            <Face_Target> true </Face_Target>

            <Applicable_Unit_Categories> Stationary + CanAttack </Applicable_Unit_Categories>
            <Excluded_Unit_Categories>TacticalBuildableStructure</Excluded_Unit_Categories>


            <!-- Any new move/attack order will cancel this ability -->
            <Movement_Should_Cancel_Ability>No</Movement_Should_Cancel_Ability>

            <Terminate_Effect_On_Move_Command> true </Terminate_Effect_On_Move_Command>
            <Deactivate_On_User_Attack_Order> true </Deactivate_On_User_Attack_Order>
         </Effect_Generator_Ability>

         <Effect_Generator_Ability Name="Masari_Architect_Assist_Structure_Ability">
            <Activation_Min_Range> 0 </Activation_Min_Range>
            <Activation_Max_Range> 60.0 </Activation_Max_Range>
				<!-- In case we get teleported a long way away-->
				<Max_Channel_Range> 200.0 </Max_Channel_Range>
				<Effect_Generator_Name> Masari_Architect_Assist_Structure_Generator </Effect_Generator_Name>
            <Activation_Style> Special_Attack </Activation_Style>
            <Can_Target_Enemies>No</Can_Target_Enemies>
            <Can_Target_Allies>Yes</Can_Target_Allies>
            <Can_Target_Neutral>No</Can_Target_Neutral>
            <Generating_Anim_Type>ATTACK_SPECIAL_A</Generating_Anim_Type>
            <Face_Target> true </Face_Target>

            <Applicable_Unit_Categories> Stationary </Applicable_Unit_Categories>
            <Excluded_Unit_Categories>TacticalBuildableStructure, CanAttack, Bridge</Excluded_Unit_Categories>
            <Excluded_Unit_Types>
               Masari_Elemental_Collector,
               Masari_Elemental_Collector_Fire,
               Masari_Elemental_Collector_Ice
            </Excluded_Unit_Types>

            <!-- Any new move/attack order will cancel this ability -->
            <Movement_Should_Cancel_Ability>No</Movement_Should_Cancel_Ability>

            <Terminate_Effect_On_Move_Command> true </Terminate_Effect_On_Move_Command>
            <Deactivate_On_User_Attack_Order> true </Deactivate_On_User_Attack_Order>
         </Effect_Generator_Ability>



         <!-- Heal BEFORE enter_sentry - Oksana -->
         <Effect_Generator_Ability Name="Masari_Architect_Heal_Unit_Ability">
            <Activation_Min_Range> 0 </Activation_Min_Range>
            <Activation_Max_Range> 80.0 </Activation_Max_Range>
				<!-- In case we get teleported a long way away-->
				<Max_Channel_Range> 200.0 </Max_Channel_Range>
				<Effect_Generator_Name> Masari_Architect_Heal_Unit_Generator </Effect_Generator_Name>
            <Activation_Style> Special_Attack </Activation_Style>
            <Can_Target_Enemies>No</Can_Target_Enemies>
            <Can_Target_Allies>Yes</Can_Target_Allies>
            <Can_Target_Neutral>No</Can_Target_Neutral>
            <Generating_Anim_Type>ATTACK_SPECIAL_B</Generating_Anim_Type>
            <Face_Target> true </Face_Target>
            <Applicable_Unit_Categories> Small + Organic | Piloted </Applicable_Unit_Categories>


            <!-- Any new move/attack order will cancel this ability -->
            <Movement_Should_Cancel_Ability>No</Movement_Should_Cancel_Ability>

            <Terminate_Effect_On_Move_Command> true </Terminate_Effect_On_Move_Command>
            <Deactivate_On_User_Attack_Order> true </Deactivate_On_User_Attack_Order>
         </Effect_Generator_Ability>


         <Effect_Generator_Ability Name="Enter_Sentry_Special_Ability">

            <Activation_Min_Range> 0 </Activation_Min_Range>
            <Activation_Max_Range> 20 </Activation_Max_Range>
            <Effect_Generator_Name> Enter_Sentry_Effect_Generator </Effect_Generator_Name>
            <Activation_Style> SPECIAL_ATTACK </Activation_Style>
            <Can_Target_Enemies>No</Can_Target_Enemies>
            <Can_Target_Allies>Yes</Can_Target_Allies>
            <Can_Target_Neutral>No</Can_Target_Neutral>

            <Applicable_Unit_Types>
               Masari_Sentry,
               Masari_Sentry_Fire,
               Masari_Sentry_Ice,
            </Applicable_Unit_Types>

         </Effect_Generator_Ability>

         <Effect_Generator_Ability Name="Masari_Architect_Rebuild_Special_Ability">
            <Activation_Min_Range> 0 </Activation_Min_Range>
            <Activation_Max_Range> 100 </Activation_Max_Range>
				<!-- In case we get teleported a long way away-->
				<Max_Channel_Range> 200.0 </Max_Channel_Range>
				<Effect_Generator_Name> Masari_Architect_Rebuild_Effect_Generator </Effect_Generator_Name>
            <Activation_Style> Special_Attack </Activation_Style>
            <Can_Target_Enemies>No</Can_Target_Enemies>
            <Can_Target_Allies>Yes</Can_Target_Allies>
            <Can_Target_Neutral>No</Can_Target_Neutral>
            <Generating_Anim_Type>ATTACK_SPECIAL_B</Generating_Anim_Type>


            <!-- Any new move/attack order will cancel this ability -->
            <Movement_Should_Cancel_Ability>No</Movement_Should_Cancel_Ability>

            <Terminate_Effect_On_Move_Command> true </Terminate_Effect_On_Move_Command>
            <Deactivate_On_User_Attack_Order> true </Deactivate_On_User_Attack_Order>
         </Effect_Generator_Ability>

			<Effect_Generator_Ability Name="Masari_Architect_Repair_Bridge_Ability">
				<Activation_Min_Range> 0.0  </Activation_Min_Range>
				<Activation_Max_Range> 100.0 </Activation_Max_Range>
				<!-- In case we get teleported a long way away-->
				<Max_Channel_Range> 200.0 </Max_Channel_Range>
				<Can_Target_Enemies>Yes</Can_Target_Enemies>
				<Can_Target_Allies>Yes</Can_Target_Allies>
				<Can_Target_Neutral>Yes</Can_Target_Neutral>
				<Pre_Generate_Anim_Type>   </Pre_Generate_Anim_Type>
				<Post_Generate_Anim_Type>  </Post_Generate_Anim_Type>
				<Generating_Anim_Type> ATTACK_SPECIAL_B  </Generating_Anim_Type>
				<Effect_Generator_Name> Masari_Architect_Repair_Bridge_Generator </Effect_Generator_Name>
				<Activation_Style> SPECIAL_ATTACK </Activation_Style>
				<Face_Target> true </Face_Target>
				<Applicable_Unit_Categories> Bridge  </Applicable_Unit_Categories>
				<Stop_And_Clear_Target_On_Remove>true</Stop_And_Clear_Target_On_Remove>


            <!-- Any new move/attack order will cancel this ability -->
            <Movement_Should_Cancel_Ability>No</Movement_Should_Cancel_Ability>

            <Terminate_Effect_On_Move_Command> true </Terminate_Effect_On_Move_Command>
            <Deactivate_On_User_Attack_Order> true </Deactivate_On_User_Attack_Order>
			</Effect_Generator_Ability>
			
      </Abilities>

      <Effect_Generator_Data SubObjectList="Yes">

         <Effect_Generator Name="Enter_Sentry_Effect_Generator">
            <Should_Deactivate_Manually> false </Should_Deactivate_Manually>
            <Is_Independent_Generator>Yes</Is_Independent_Generator>

            <Effect_Generator_Entry Name="Entry1">
               <Effect_Name> Architect_Enter_Sentry_Effect </Effect_Name>
               <Deactivate_Parent_If_Idle>yes</Deactivate_Parent_If_Idle>
               <Target_Gathering_Mask> Target </Target_Gathering_Mask>
               <Target_Filter_C> Can_Enter_Vehicle </Target_Filter_C>
            </Effect_Generator_Entry>
         </Effect_Generator>

         <Effect_Generator Name="MasariSwitchGenerator">
            <Should_Deactivate_Manually> false </Should_Deactivate_Manually>
            <Is_Independent_Generator>Yes</Is_Independent_Generator>
            <Disable_Generator_Attribute> Is_Mind_Controlled </Disable_Generator_Attribute>

            <Effect_Generator_Entry Name="Entry1">
               <Duration> 1.0 </Duration>
               <Effect_Name> MasariSwitchCleanseEffect </Effect_Name>
               <Target_Gathering_Mask> Self </Target_Gathering_Mask>
            </Effect_Generator_Entry>

            <Effect_Generator_Entry Name="Entry2">
               <Duration> 0.5 </Duration>
               <Base_Delay> 0.4 </Base_Delay>
               <Effect_Name> MasariFullArmorEffect </Effect_Name>
               <Target_Gathering_Mask> Self </Target_Gathering_Mask>
               <!-- only in ice mode -->
              <Target_Filter_C> In_Ice_Mode </Target_Filter_C>
            </Effect_Generator_Entry>

         </Effect_Generator>

         <Effect_Generator Name="Masari_Architect_Build_Effect_Generator">
            <Should_Deactivate_Manually> Yes </Should_Deactivate_Manually>
            <Is_Independent_Generator>No</Is_Independent_Generator>
            <Disable_Generator_Attribute> Is_Mind_Controlled </Disable_Generator_Attribute>

            <Effect_Generator_Entry Name="Entry1">
               <Effect_Name> Masari_Architect_Build_Effect </Effect_Name>
               <Duration> -1.0 </Duration>
               <Target_Gathering_Mask> Target </Target_Gathering_Mask>
               <Target_Filter_C> Tactical_Base_Builder </Target_Filter_C>
               <Source_SFX_Event> SFX_Masari_Build_Loop </Source_SFX_Event>
               <Source_SFX_Loop_Type>ResonanceBeamWeaponEffectSFX</Source_SFX_Loop_Type>
               <Stop_Source_SFX_On_Deactivate> true </Stop_Source_SFX_On_Deactivate>
            </Effect_Generator_Entry>

            <Effect_Generator_Entry Name="Entry2">
               <!-- Achievement version - builds faster -->
               <Effect_Name> Achievement_Masari_Architect_Build_Effect </Effect_Name>
               <Duration> -1.0 </Duration>
               <Target_Gathering_Mask> Target </Target_Gathering_Mask>
               <Target_Filter_C> Tactical_Base_Builder </Target_Filter_C>
               <Source_SFX_Event> SFX_Masari_Build_Loop </Source_SFX_Event>
               <Source_SFX_Loop_Type>ResonanceBeamWeaponEffectSFX</Source_SFX_Loop_Type>
               <Stop_Source_SFX_On_Deactivate> true </Stop_Source_SFX_On_Deactivate>
            </Effect_Generator_Entry>

				<Effect_Generator_Entry Name="Entry3">
						<Effect_Name> MasariArchitectBuildVisualEffect </Effect_Name>
						<Duration> -1.0 </Duration>
						<Target_Gathering_Mask> Self </Target_Gathering_Mask>
				</Effect_Generator_Entry>


         </Effect_Generator>


         <Effect_Generator Name="Masari_Architect_Heal_Unit_Generator">
            <Should_Deactivate_Manually> Yes </Should_Deactivate_Manually>
            <Is_Independent_Generator>No</Is_Independent_Generator>
            <Disable_Generator_Attribute> Is_Mind_Controlled </Disable_Generator_Attribute>

            <Effect_Generator_Entry Name="Entry1">
               <Effect_Name> Masari_Architect_Heal_Effect </Effect_Name>
               <Duration> -1.0 </Duration>
               <Deactivate_Parent_If_Idle> true </Deactivate_Parent_If_Idle>

               <Frames_Between_Remove_Invalid_Targets> 1 </Frames_Between_Remove_Invalid_Targets>
               <Target_Gathering_Mask> Target </Target_Gathering_Mask>
               <Target_Filter_C> Architect_Check_For_Healing_Units </Target_Filter_C>
               <Source_SFX_Event> SFX_Masari_Heal </Source_SFX_Event>
            </Effect_Generator_Entry>

				<Effect_Generator_Entry Name="Entry2">
					<Effect_Name> MasariArchitectHealVisualEffect </Effect_Name>
					<Duration> -1.0 </Duration>
					<Target_Gathering_Mask> Self </Target_Gathering_Mask>
				</Effect_Generator_Entry>
				
				
         </Effect_Generator>


         <Effect_Generator Name="Masari_Architect_Assist_Structure_Generator">
            <Should_Deactivate_Manually> Yes </Should_Deactivate_Manually>
            <Is_Independent_Generator>No</Is_Independent_Generator>
            <Modal_Refresh_Frequency>1.0</Modal_Refresh_Frequency>
            <Keep_Target_On_Refresh>Yes</Keep_Target_On_Refresh>
            <Disable_Generator_Attribute> Is_Mind_Controlled </Disable_Generator_Attribute>

            <!-- Stay assigned to this building -->
            <Deactivate_If_Idle>YEs</Deactivate_If_Idle>

            <!-- Dummy empty efect to have the unit assign to building even if it's not currently
                 building/upgrading/producing etc-->
            <Effect_Generator_Entry Name="Entry1">
               <Effect_Name> MasariArchitectAssistEffect </Effect_Name>
               <Duration> 1.2 </Duration>
               <Target_Gathering_Mask> Target </Target_Gathering_Mask>
					<Target_Filter_C> Is_Not_Mind_Controlled </Target_Filter_C>
            </Effect_Generator_Entry>
            
       
            <!-- When assisted structure takes damage, unit will heal it -->
            <Effect_Generator_Entry Name="Entry2">
               <Effect_Name> MasariArchitectHealStructureEffect </Effect_Name>
               <Duration> 1.2 </Duration>
               <Target_Gathering_Mask> Target | TargetHPParent </Target_Gathering_Mask>
               <Target_Filter_C> Architect_Check_For_Healing </Target_Filter_C>
            </Effect_Generator_Entry>

            <Effect_Generator_Entry Name="Entry3">
               <Effect_Name> MasariArchitectHealStructureVisualEffect </Effect_Name>
               <Duration> 1.2 </Duration>
               <Target_Gathering_Mask> Target </Target_Gathering_Mask>
               <Target_Filter_C> Architect_Check_For_Healing </Target_Filter_C>
               <Source_SFX_Event> SFX_Masari_Heal </Source_SFX_Event>
            </Effect_Generator_Entry>            
            
            <!-- When assisted structure is producing, unit will speed up production time -->
            <Effect_Generator_Entry Name="Entry4">
               <Effect_Name> MasariArchitectBuildFasterEffect </Effect_Name>
               <Duration> 1.2 </Duration>
               <Target_Gathering_Mask> Target </Target_Gathering_Mask>
               <Target_Filter_C> Architect_Check_For_Unit_Building </Target_Filter_C>
               <Source_SFX_Event> SFX_Masari_Build_Faster_Loop </Source_SFX_Event>
               <Source_SFX_Loop_Type>ResonanceBeamWeaponEffectSFX</Source_SFX_Loop_Type>
               <Stop_Source_SFX_On_Deactivate> true </Stop_Source_SFX_On_Deactivate>
            </Effect_Generator_Entry>
   
            
            <!-- When assisted structure is building upgrade, unit will speed up upgrade time -->
            <Effect_Generator_Entry Name="Entry5">
               <Effect_Name> MasariArchitectBuildUpgradesFasterEffect </Effect_Name>
               <Duration> 1.2 </Duration>
               <Target_Gathering_Mask> Target | TargetHPParent </Target_Gathering_Mask>
               <Target_Filter_C> Architect_Check_For_Upgrading </Target_Filter_C>
					<!-- KDB 06-21-2007 this is needed as there are hardpoints that can build hardpoints -->
					<Should_Add_Hardpoints_As_Targets> true </Should_Add_Hardpoints_As_Targets>
				</Effect_Generator_Entry>

            <Effect_Generator_Entry Name="Entry6">
               <Effect_Name> MasariArchitectBuildUpgradesFasterVisualEffect </Effect_Name>
               <Duration> 1.2 </Duration>
               <Target_Gathering_Mask> Target </Target_Gathering_Mask>
               <Target_Filter_C> Architect_Check_For_Upgrading </Target_Filter_C>
               <Source_SFX_Event> SFX_Masari_Build_Faster_Loop </Source_SFX_Event>
               <Source_SFX_Loop_Type>ResonanceBeamWeaponEffectSFX</Source_SFX_Loop_Type>
               <Stop_Source_SFX_On_Deactivate> true </Stop_Source_SFX_On_Deactivate>
            </Effect_Generator_Entry>
            
         </Effect_Generator>


         <Effect_Generator Name="Masari_Architect_Assist_Harvesting_Structure_Generator">
            <Should_Deactivate_Manually> Yes </Should_Deactivate_Manually>
            <Is_Independent_Generator>No</Is_Independent_Generator>
            <Modal_Refresh_Frequency>1.0</Modal_Refresh_Frequency>
            <Keep_Target_On_Refresh>Yes</Keep_Target_On_Refresh>
            <Disable_Generator_Attribute> Is_Mind_Controlled </Disable_Generator_Attribute>

            <!-- Stay assigned to this building -->
            <Deactivate_If_Idle>YEs</Deactivate_If_Idle>

            <!-- Dummy empty efect to have the unit assign to building even if it's not currently
                 building/upgrading/producing etc-->
            <Effect_Generator_Entry Name="Entry1">
               <Effect_Name> MasariArchitectAssistEffect </Effect_Name>
               <Duration> 1.2 </Duration>
               <Target_Gathering_Mask> Target </Target_Gathering_Mask>
					<Target_Filter_C> Is_Not_Mind_Controlled </Target_Filter_C>
            </Effect_Generator_Entry>

            <!-- When assisted structure takes damage, unit will heal it -->
            <Effect_Generator_Entry Name="Entry2">
               <Effect_Name> MasariArchitectHealStructureEffect </Effect_Name>
               <Duration> 1.2 </Duration>
               <Target_Gathering_Mask> Target | TargetHPParent </Target_Gathering_Mask>
               <Target_Filter_C> Architect_Check_For_Healing </Target_Filter_C>
               <Frames_Between_Remove_Invalid_Targets>1</Frames_Between_Remove_Invalid_Targets>
            </Effect_Generator_Entry>

            <Effect_Generator_Entry Name="Entry3">
               <Effect_Name> MasariArchitectHealStructureVisualEffect </Effect_Name>
               <Duration> 1.2 </Duration>
               <Target_Gathering_Mask> Target </Target_Gathering_Mask>
               <Target_Filter_C> Architect_Check_For_Healing </Target_Filter_C>
               <Source_SFX_Event> SFX_Masari_Heal </Source_SFX_Event>
               <Frames_Between_Remove_Invalid_Targets>1</Frames_Between_Remove_Invalid_Targets>
            </Effect_Generator_Entry>
            
            
            <!-- When assisted structure is building upgrade, unit will speed up upgrade time -->
            <Effect_Generator_Entry Name="Entry4">
               <Effect_Name> MasariArchitectBuildUpgradesFasterEffect </Effect_Name>
               <Duration> 1.2 </Duration>
               <Target_Gathering_Mask> TargetHPParent </Target_Gathering_Mask>
               <Target_Filter_C> Architect_Check_For_Upgrading </Target_Filter_C>
               <Frames_Between_Remove_Invalid_Targets>1</Frames_Between_Remove_Invalid_Targets>
            </Effect_Generator_Entry>

            <Effect_Generator_Entry Name="Entry5">
               <Effect_Name> MasariArchitectBuildUpgradesFasterVisualEffect </Effect_Name>
               <Duration> 1.2 </Duration>
               <Target_Gathering_Mask> Target </Target_Gathering_Mask>
               <Target_Filter_C> Architect_Check_For_Upgrading </Target_Filter_C>
               <Source_SFX_Event> SFX_Masari_Build_Faster_Loop </Source_SFX_Event>
               <Source_SFX_Loop_Type>ResonanceBeamWeaponEffectSFX</Source_SFX_Loop_Type>
               <Stop_Source_SFX_On_Deactivate> true </Stop_Source_SFX_On_Deactivate>
               <Frames_Between_Remove_Invalid_Targets>1</Frames_Between_Remove_Invalid_Targets>
            </Effect_Generator_Entry>
            

            <!-- When assisted structure is collecting resources, unit will upgrade income rate -->
            <Effect_Generator_Entry Name="Entry6">
               <Effect_Name> MasariArchitectHarverstFasterEffect </Effect_Name>
               <Duration> 1.2 </Duration>
               <Target_Gathering_Mask> TargetHPParent </Target_Gathering_Mask>
               <Target_Filter_C> Architect_Check_For_Harvesting </Target_Filter_C>
               <Source_SFX_Event> SFX_Masari_Build_Faster_Loop </Source_SFX_Event>
               <Source_SFX_Loop_Type>ResonanceBeamWeaponEffectSFX</Source_SFX_Loop_Type>
               <Stop_Source_SFX_On_Deactivate> true </Stop_Source_SFX_On_Deactivate>
               <Frames_Between_Remove_Invalid_Targets>1</Frames_Between_Remove_Invalid_Targets>
            </Effect_Generator_Entry>


         </Effect_Generator>


         <Effect_Generator Name="Masari_Architect_Assist_Attack_Capable_Structure_Generator">
            <Should_Deactivate_Manually> Yes </Should_Deactivate_Manually>
            <Is_Independent_Generator>No</Is_Independent_Generator>
            <Modal_Refresh_Frequency>1.0</Modal_Refresh_Frequency>
            <Keep_Target_On_Refresh>Yes</Keep_Target_On_Refresh>
            <Disable_Generator_Attribute> Is_Mind_Controlled </Disable_Generator_Attribute>

            <!-- Stay assigned to this building -->
            <Deactivate_If_Idle>YEs</Deactivate_If_Idle>

            <!-- Dummy empty efect to have the unit assign to building even if it's not currently
                 building/upgrading/producing etc-->
            <Effect_Generator_Entry Name="Entry1">
               <Effect_Name> MasariArchitectAssistEffect </Effect_Name>
               <Duration>1.2 </Duration>
               <Target_Gathering_Mask> Target </Target_Gathering_Mask>
					<Target_Filter_C> Is_Not_Mind_Controlled </Target_Filter_C>
            </Effect_Generator_Entry>

            <!-- When assisted structure takes damage, unit will heal it -->
            <Effect_Generator_Entry Name="Entry2">
               <Effect_Name> MasariArchitectHealStructureEffect </Effect_Name>
               <Duration> 1.2 </Duration>
               <Target_Gathering_Mask> Target | TargetHPParent </Target_Gathering_Mask>
               <Target_Filter_C> Architect_Check_For_Healing </Target_Filter_C>
               <Frames_Between_Remove_Invalid_Targets>1</Frames_Between_Remove_Invalid_Targets>
            </Effect_Generator_Entry>

            <Effect_Generator_Entry Name="Entry3">
               <Effect_Name> MasariArchitectHealStructureVisualEffect </Effect_Name>
               <Duration> 1.2 </Duration>
               <Target_Gathering_Mask> Target </Target_Gathering_Mask>
               <Target_Filter_C> Architect_Check_For_Healing </Target_Filter_C>
               <Source_SFX_Event> SFX_Masari_Heal </Source_SFX_Event>
               <Frames_Between_Remove_Invalid_Targets>1</Frames_Between_Remove_Invalid_Targets>
            </Effect_Generator_Entry>

            <!-- When assisted structure is building upgrade, unit will speed up upgrade time -->
            <Effect_Generator_Entry Name="Entry4">
               <Effect_Name> MasariArchitectBuildUpgradesFasterEffect </Effect_Name>
               <Base_Delay> 0.05 </Base_Delay>
               <Duration> 1.2 </Duration>
               <Target_Gathering_Mask> TargetHPParent </Target_Gathering_Mask>
               <Target_Filter_C> Architect_Check_For_Upgrading </Target_Filter_C>
              <Frames_Between_Remove_Invalid_Targets>1</Frames_Between_Remove_Invalid_Targets>
            </Effect_Generator_Entry>


            <Effect_Generator_Entry Name="Entry5">
               <Effect_Name> MasariArchitectBuildUpgradesFasterVisualEffect </Effect_Name>
               <Base_Delay> 0.05 </Base_Delay>
               <Duration> 1.2 </Duration>
               <Target_Gathering_Mask> Target </Target_Gathering_Mask>
               <Target_Filter_C> Architect_Check_For_Upgrading </Target_Filter_C>
               <Source_SFX_Event> SFX_Masari_Build_Faster_Loop </Source_SFX_Event>
               <Source_SFX_Loop_Type>ResonanceBeamWeaponEffectSFX</Source_SFX_Loop_Type>
               <Stop_Source_SFX_On_Deactivate> true </Stop_Source_SFX_On_Deactivate>
               <Frames_Between_Remove_Invalid_Targets>1</Frames_Between_Remove_Invalid_Targets>
            </Effect_Generator_Entry>
            

            <!-- When assisted structure is attack capable, unit will upgrade fire rate / damage etc -->
            <Effect_Generator_Entry Name="Entry6">
               <Effect_Name> MasariArchitectAttackBetterEffect </Effect_Name>
               <Duration> 1.2 </Duration>
               <Base_Delay> 0.05 </Base_Delay>
               <Target_Gathering_Mask> Target | TargetHPParent </Target_Gathering_Mask>
               <Target_Filter_C> Architect_Check_For_Harvesting </Target_Filter_C>
               <Frames_Between_Remove_Invalid_Targets>1</Frames_Between_Remove_Invalid_Targets>
            </Effect_Generator_Entry>

            <Effect_Generator_Entry Name="Entry7">
               <Effect_Name> MasariArchitectAttackBetterVisualEffect </Effect_Name>
               <Duration> 1.2 </Duration>
               <Base_Delay> 0.05 </Base_Delay>
               <Target_Gathering_Mask> Target </Target_Gathering_Mask>
               <Target_Filter_C> Architect_Check_For_Harvesting </Target_Filter_C>
               <Source_SFX_Event> SFX_Masari_Build_Faster_Loop </Source_SFX_Event>
               <Source_SFX_Loop_Type>ResonanceBeamWeaponEffectSFX</Source_SFX_Loop_Type>
               <Stop_Source_SFX_On_Deactivate> true </Stop_Source_SFX_On_Deactivate>
               <Frames_Between_Remove_Invalid_Targets>1</Frames_Between_Remove_Invalid_Targets>
            </Effect_Generator_Entry>

         </Effect_Generator>


         <Effect_Generator Name="Masari_Architect_Rebuild_Effect_Generator">
            <Is_Independent_Generator> No </Is_Independent_Generator>
            <Should_Deactivate_Manually> Yes </Should_Deactivate_Manually>

            <Effect_Generator_Entry Name="Entry1">
               <Effect_Name> Masari_Architect_Rebuild_Effect </Effect_Name>
               <Duration> 10.0 </Duration>
               <Target_Gathering_Mask> Target </Target_Gathering_Mask>
               <Target_Filter_C> Is_Rebuildable_Avenger </Target_Filter_C>
               <Deactivate_Parent_If_Idle> true </Deactivate_Parent_If_Idle>
               <Source_SFX_Event> SFX_Masari_ReBuild_Loop </Source_SFX_Event>
               <Source_SFX_Loop_Type>ResonanceBeamWeaponEffectSFX</Source_SFX_Loop_Type>
               <Stop_Source_SFX_On_Deactivate> true </Stop_Source_SFX_On_Deactivate>
               
               <!-- Due to pop-cap issues, we need to immediately de-activate when target is invalid. - Oksana-->
               <Frames_Between_Remove_Invalid_Targets>1</Frames_Between_Remove_Invalid_Targets>
            </Effect_Generator_Entry>

				<Effect_Generator_Entry Name="Entry2">
					<Effect_Name> MasariArchitectBuildVisualEffect </Effect_Name>
					<Duration> -1.0 </Duration>
					<Target_Gathering_Mask> Self </Target_Gathering_Mask>
				</Effect_Generator_Entry>

         </Effect_Generator>

			<Effect_Generator Name="Masari_Architect_Repair_Bridge_Generator">
				<Is_Independent_Generator> No </Is_Independent_Generator>
				<Should_Deactivate_Manually> Yes </Should_Deactivate_Manually>

				<Effect_Generator_Entry Name="Entry1">
					<Effect_Name> Masari_Architect_Repair_Bridge_Pre_Effect </Effect_Name>
					<Duration> 10.0 </Duration>
					<Target_Gathering_Mask> Target </Target_Gathering_Mask>
					<Target_Filter> target.Get_Attribute_Integer_Value( "Type_Is_Repairable_Bridge" ) ~= 0 </Target_Filter>
					<Deactivate_Parent_If_Idle> true </Deactivate_Parent_If_Idle>
					<Source_SFX_Event> SFX_Masari_ReBuild_Loop </Source_SFX_Event>
					<Source_SFX_Loop_Type>ResonanceBeamWeaponEffectSFX</Source_SFX_Loop_Type>
					<Stop_Source_SFX_On_Deactivate> true </Stop_Source_SFX_On_Deactivate>
					<Can_Target_Dead_Objects> true </Can_Target_Dead_Objects>
				</Effect_Generator_Entry>

			</Effect_Generator>

			<!-- Standard Sell generator  - 06/28/2007 -->
			<!--INCLUDE ".\Data\XML\Includes\Sell_Effect_Generators\MASARI_Sell_Generators.xml" -->

		</Effect_Generator_Data>

   </X13_Masari_Units>


   <!-- **************************************************************************************** -->
   <!-- *** VARIANTS *************************************************************************** -->
   <!-- **************************************************************************************** -->


   <!-- ============ ELEMENTAL MODE VARIANT: FIRE =================== -->
   <X13_Masari_Units Name="Masari_Architect_Fire">
      <Variant_Of_Existing_Type> Masari_Architect </Variant_Of_Existing_Type>
      <Is_Placed_By_Editor>false</Is_Placed_By_Editor>

      <!-- MOVEMENT -->
      <Max_Speed>1.4</Max_Speed>
      <Movement_Animation_Speed> 1.5 </Movement_Animation_Speed>

      <!-- CONFLICT -->
		<Land_FOW_Reveal_Range>150.0</Land_FOW_Reveal_Range>

      <Effect_Generator_Data SubObjectList="Yes" Replace="No">
         <!-- Standard DMA generator - Oksana 05/14/2007 -->
         <!--INCLUDE ".\Data\XML\Includes\Masari_DMA\MASARI_DMA_Light_Mode_Generators.xml" -->
     

			<Effect_Generator Name="ArchitectLightVisualGenerator">

				<Starts_Active> true </Starts_Active>

				<Effect_Generator_Entry Name="Entry1">
					<Effect_Name> ArchitectLightVisualEffect </Effect_Name>
					<Duration> -1.0 </Duration>
					<Target_Gathering_Mask> Self </Target_Gathering_Mask>
				</Effect_Generator_Entry>

			</Effect_Generator>
			
		</Effect_Generator_Data>
		
   </X13_Masari_Units>



   <!-- ============ ELEMENTAL MODE VARIANT: ICE =================== -->
   <X13_Masari_Units Name="Masari_Architect_Ice">
      <Variant_Of_Existing_Type> Masari_Architect </Variant_Of_Existing_Type>
      <Is_Placed_By_Editor>false</Is_Placed_By_Editor>

      <!-- MOVEMENT -->
      <Max_Speed>1.6</Max_Speed>
      <Movement_Animation_Speed> 1.8 </Movement_Animation_Speed>

      <!-- CONFLICT -->
      <Land_FOW_Reveal_Range>120.0</Land_FOW_Reveal_Range>

      <Effect_Generator_Data SubObjectList="Yes" Replace="No">
         <!-- Standard DMA generator - Oksana 05/14/2007 -->
         <!--INCLUDE ".\Data\XML\Includes\Masari_DMA\MASARI_DMA_Dark_Mode_Generators.xml" -->

			<Effect_Generator Name="ArchitectDarkVisualGenerator">

				<Starts_Active> true </Starts_Active>

				<Effect_Generator_Entry Name="Entry1">
					<Effect_Name> ArchitectDarkVisualEffect </Effect_Name>
					<Duration> -1.0 </Duration>
					<Target_Gathering_Mask> Self </Target_Gathering_Mask>
				</Effect_Generator_Entry>

			</Effect_Generator>
		
		</Effect_Generator_Data>

   </X13_Masari_Units>



   <!-- **************************************************************************************** -->
   <!-- *** DEATH CLONE(S)********************************************************************** -->
   <!-- **************************************************************************************** -->

   <X13_Masari_Units Name="Masari_Architect_Death_Clone_Resource">
      <Variant_Of_Existing_Type>Masari_Architect</Variant_Of_Existing_Type>
      <Use_Base_Type_By_Default> false </Use_Base_Type_By_Default>

      <CategoryMask> Small, Organic, RadiationHurts, Resource_INST </CategoryMask>

      <LandBehavior>
         HIDE_WHEN_FOGGED,
         BALLISTIC,
         RESOURCE,
         EFFECT_REGISTRY,
         ATTRIBUTE_DIRECTORY
      </LandBehavior>

      <BehaviorType Name="ProductionBehaviorType">
         <Is_Strategic_Buildable_Type> No </Is_Strategic_Buildable_Type>
      </BehaviorType>

      <BehaviorType Name="ResourceBehaviorType">
         <Resource_Units> 10 </Resource_Units>
         <Resource_For_Faction> Alien </Resource_For_Faction>
         <Is_Single_Resource> true </Is_Single_Resource>
         <Use_Death_Behavior> true </Use_Death_Behavior>
      </BehaviorType>

      <Is_Placed_By_Editor>false</Is_Placed_By_Editor>

   </X13_Masari_Units>












</MASARI_INF_Architect_XML>
