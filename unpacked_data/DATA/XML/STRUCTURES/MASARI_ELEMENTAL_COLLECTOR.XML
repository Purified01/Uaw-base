<?xml version="1.0"?>
<Masari_Elemental_Collector_XML>

   <!-- **************************************************************************************** -->
   <!-- *** STRUCTURE ************************************************************************** -->
   <!-- **************************************************************************************** -->

   <X13_Masari_Structures Name="Masari_Elemental_Collector">


      <!-- ART -->
      <Land_Model_Name>ZB_El_Collector.alo</Land_Model_Name>
      <Scale_Factor>0.8</Scale_Factor>
      <Multisample_FOW_Check>Yes</Multisample_FOW_Check>
      <Last_State_Visible_Under_FOW> Yes </Last_State_Visible_Under_FOW>
      <AssetBank> BANK_MASARI </AssetBank>

      <!-- INTERFACE -->
      <Text_ID>TEXT_MASARI_STRUCTURE_MATTER_ENGINE</Text_ID>
      <Icon_Name> i_icon_mb_elemental_collector.tga </Icon_Name>
      <Selection_Blob_Material_Name>Masari_Detonation_Ring</Selection_Blob_Material_Name>

      <!-- ATTRIBUTES -->
      <CategoryMask> Large, Stationary </CategoryMask>
      <Affiliation> Masari </Affiliation>
      <Victory_Relevant> True </Victory_Relevant>  <!-- Do not change please see design -->
      <Importance> 0.1 </Importance>
      <Shot_Type> Circle </Shot_Type>

      <Attributes SubObjectList="Yes">
         <Tactical_Sell_Percent_Modifier> -0.5 </Tactical_Sell_Percent_Modifier>
         <Tactical_Sell_Time_Seconds>5.0</Tactical_Sell_Time_Seconds>
      </Attributes>

      <!-- MOVEMENT -->
      <Space_Layer> LandDynamic </Space_Layer>
      <MovementClass>Building</MovementClass>
      <UnitCollisionClass> High Obstacle </UnitCollisionClass>
      <Custom_Hard_XExtent> 35.0 </Custom_Hard_XExtent>
      <Custom_Hard_YExtent> 35.0 </Custom_Hard_YExtent>
      <Is_Immune_To_Tornado>true</Is_Immune_To_Tornado>
      <Tornado_Movement_Factor>0.00001</Tornado_Movement_Factor>

      <!-- CONFLICT -->
      <Is_Attackable> true </Is_Attackable>
      <Collidable_By_Projectile_Living>Yes</Collidable_By_Projectile_Living>
      <Tactical_Health> 1000 </Tactical_Health>
		
      <Land_Damage_Thresholds>1, 0.66, 0.33, 0</Land_Damage_Thresholds>
      <Land_Damage_Alternates>0, 1, 2, 3</Land_Damage_Alternates>
      <Land_Damage_SFX>null,SFX_GENERIC_DETONATION, SFX_GENERIC_DETONATION,null</Land_Damage_SFX>
		
      <Ranged_Target_Z_Adjust> 15.0 </Ranged_Target_Z_Adjust>
      <Land_FOW_Reveal_Range>300.0</Land_FOW_Reveal_Range>

      <!-- BEHAVIORS-->
      <Behavior>
         GROUND_STRUCTURE,
         SELECTABLE,
      </Behavior>

      <LandBehavior>
			HARD_POINT_MANAGER,
			TACTICAL_BUILD_OBJECTS,
			EFFECT_REGISTRY,
			EFFECT_GENERATOR,
			ATTRIBUTE_DIRECTORY,
			ABILITY_COUNTDOWN,
			GUI,
			RADAR_MAP_VISIBLE,
			REVEAL,
			HIDE_WHEN_FOGGED,
			UNIT_AI,
			DAMAGE_TRACKING,
			SWITCH_TYPE,
			IDLE,
			AI_RECRUITABLE,
			AI_TARGET,
			TACTICAL_SELL,
			TARGETING,
			TERRAFORM,
			<!-- ELEMENTAL_MODE must be last because it causes add behavior to be called -->
         ELEMENTAL_MODE
      </LandBehavior>

      <BehaviorType Name="TooltipBehaviorType">
         <Tooltip_Description_Text_ID> TEXT_TOOLTIP_DESCRIPTION_MASARI_MATTER_ENGINE_LIGHT_ALT </Tooltip_Description_Text_ID>
         <Tooltip_Category> TEXT_TOOLTIP_CATEGORY_STRUCTURE </Tooltip_Category>

         <!--  MARIA: We need to know if the structure's tooltip must be modified by its hps (upgrades).
               NOTE: this flag defaults to No -->
         <HP_Attachment_Modifies_Tooltip> Yes </HP_Attachment_Modifies_Tooltip>
      </BehaviorType>

         <Researched_Upgrades>
		TEXT_MASARI_RESEARCH_TITLE_BURNING_BRILLIANCE
		TEXT_MASARI_RESEARCH_TITLE_IMMOLATION
		TEXT_MASARI_RESEARCH_TITLE_ADVANCED_DARK_MATTER_ARMOR
		TEXT_MASARI_RESEARCH_TITLE_DARK_MATTER_AFINITY
		TEXT_MASARI_RESEARCH_TITLE_DARK_MATTER_MASTERY
		TEXT_MASARI_RESEARCH_TITLE_STATIONARY_REVELATION
		TEXT_MASARI_RESEARCH_TITLE_CLEANSING_ENERGY
		TEXT_MASARI_RESEARCH_TITLE_UNREGULATED_CONVERSION
		TEXT_MASARI_RESEARCH_TITLE_ENERGY_STREAM
         </Researched_Upgrades>
	 
      <BehaviorType Name="EncyclopediaBehaviorType">
         <Icon_Name>i_icon_mb_elemental_collector.tga</Icon_Name>
      </BehaviorType>

      <BehaviorType Name="TerraformBehaviorType">
         <Bib_X_Extent> 45 </Bib_X_Extent>
         <Bib_Y_Extent> 45 </Bib_Y_Extent>
      </BehaviorType>

      <BehaviorType Name="GameEventSourceBehaviorType">
         <Game_Event_Source_Category> Structure </Game_Event_Source_Category>
      </BehaviorType>

      <BehaviorType Name="ArmorAndDamageBehaviorType">
         <Armor_Type> Armor_Masari_Structure_Light </Armor_Type>
      </BehaviorType>

      <BehaviorType Name="ProductionBehaviorType">
         <Is_Research_Tech_Tree_Lockable> Yes </Is_Research_Tech_Tree_Lockable>
         <Build_Limit_Current_Per_Player>5</Build_Limit_Current_Per_Player>
      </BehaviorType>

      <BehaviorType Name="BuildableObjectBehaviorType">
         <Tactical_Under_Construction_Object_Type> Masari_Elemental_Collector_Construction </Tactical_Under_Construction_Object_Type>
         <Tactical_Buildable_Beacon_Type> Masari_Elemental_Collector_Beacon </Tactical_Buildable_Beacon_Type>
         <Buildable_Placement_Blob_Material_Name>Masari_Detonation_Ring</Buildable_Placement_Blob_Material_Name>
         <!-- Show the blast radius ... placeholder needs better blob-->
         <Buildable_Placement_Blob_Scale> 405.0 </Buildable_Placement_Blob_Scale>
			<Show_During_Placement_Blob_Material_Name>Masari_Detonation_Ring</Show_During_Placement_Blob_Material_Name>
		</BehaviorType>

      <BehaviorType Name="TacticalSellBehaviorType">
         <Sell_Effect_Generator_Name>MasariSellGenerator</Sell_Effect_Generator_Name>
      </BehaviorType>

      <BehaviorType Name="GroundStructureBehaviorType">
         <Is_Buildable_By_Constructor> Yes </Is_Buildable_By_Constructor>
         <Default_Building_Placement_Rotation>225</Default_Building_Placement_Rotation>
      </BehaviorType>

	  <BehaviorType Name="DeathFXBehaviorType">
		  <Death_Clone>Damage_Default, Masari_Elemental_Collector_Death_Clone</Death_Clone>
		  <Death_Clone_Is_Obstacle> false </Death_Clone_Is_Obstacle>
		  <On_Death_Spawn_Object_Type> Matter_Engine_On_Death_Explosion </On_Death_Spawn_Object_Type>
	  </BehaviorType>

      <BehaviorType Name="RadarMapBehaviorType">
         <Radar_Icon_Size>0.05  0.05</Radar_Icon_Size>
      </BehaviorType>

      <BehaviorType Name="SFXBehaviorType">
         <SFXEvent_Select>SFX_Structure_Select_Masari_Elemental_Collector</SFXEvent_Select>
         <Death_SFXEvent_Start_Die> SFX_Masari_Large_Structure_Death</Death_SFXEvent_Start_Die>
         <SFXEvent_Engine_Idle_Loop> SFX_Structure_Loop_Masari_Matter_Engine </SFXEvent_Engine_Idle_Loop>
         <SFXEvent_Unit_Lost />
         <SFXEvent_Tactical_Build_Started>GUI_BUILD_Structure</SFXEvent_Tactical_Build_Started>
         <SFXEvent_Tactical_Build_Complete>SFX_Structure_Select_Masari_Elemental_Collector</SFXEvent_Tactical_Build_Complete>
         <SFXEvent_Tactical_Build_Cancelled>GUI_BUILD_Structure_Canceled</SFXEvent_Tactical_Build_Cancelled>
      </BehaviorType>

      <BehaviorType Name="TypeSwitchBehaviorType">
         <!-- List of types this object can switch to - This is mainly needed to inforce build limits and must be
					only added to the base type used for production dependencies purposes -->
      </BehaviorType>

      <BehaviorType Name="CrushBehaviorType">
         <Crush_Defense>60</Crush_Defense>
			<Crush_Power>55</Crush_Power>
      </BehaviorType>

      <BehaviorType Name="BlobShadowBehaviorType">
         <No_Reflection_Below_Detail_Level>1</No_Reflection_Below_Detail_Level>
         <No_Refraction_Below_Detail_Level>1</No_Refraction_Below_Detail_Level>
      </BehaviorType>

      <BehaviorType Name="GUIBehaviorType">
         <GUI_Scene_Name> MASARI_Tactical_Upgrades_Menu </GUI_Scene_Name>
         <GUI_Receives_Input> yes </GUI_Receives_Input>
         <GUI_Min_Scale> 0.8 </GUI_Min_Scale>
         <GUI_Max_Scale> 3.0 </GUI_Max_Scale>
         <GUI_Default_Scale> 1.0 </GUI_Default_Scale>
      </BehaviorType>

      <BehaviorType Name="SelectableBehaviorType">
         <Select_Box_Scale>500.0</Select_Box_Scale>
         <Select_Box_Z_Adjust>3.0f</Select_Box_Z_Adjust>
         <!--<Selection_Blob_Material_Name>Selection_Masari_Land_Large</Selection_Blob_Material_Name>-->
         <Selection_Blob_Material_Name />
         <!--<Highlight_Blob_Material_Name>Masari_Land_Ability_Targeting_Range_Overlay</Highlight_Blob_Material_Name>-->
      </BehaviorType>

      <BehaviorType Name="AIBehaviorType">
         <AI_Combat_Power> 2 </AI_Combat_Power>
			<AI_Target_Level>Individual</AI_Target_Level>
			<Allow_Multiple_Recruitment>True</Allow_Multiple_Recruitment>
		</BehaviorType>

      <BehaviorType Name="RevealBehaviorType">

      </BehaviorType>

      <BehaviorType Name="SwitchTypeBehaviorType">
         <Type_Switch_Types> Masari_Elemental_Collector_Fire, Masari_Elemental_Collector_Ice  </Type_Switch_Types>
         <Switch_Effect_Generator_Name> MasariSwitchGenerator </Switch_Effect_Generator_Name>
      </BehaviorType>

      <BehaviorType Name="ElementalModeBehaviorType">
         <Elemental_Object_Types> Fire, Masari_Elemental_Collector_Fire </Elemental_Object_Types>
         <Elemental_Object_Types> Ice, Masari_Elemental_Collector_Ice </Elemental_Object_Types>
      </BehaviorType>

      <BehaviorType Name="LuaScriptBehaviorType">
         <Lua_Land_Behaviors> MasariMatterEngine </Lua_Land_Behaviors>
         <!-- need to set all data as pooled scripts won't clear old data -->
         <Lua_Script_Data>
            MatterEngine = {}
            MatterEngine.ResourcesPerTimeBlock = 4.0
            MatterEngine.ResourcesTimeSeconds = 3.0
            MatterEngine.ResourcesStorage = 80.0
         </Lua_Script_Data>
      </BehaviorType>

      <BehaviorType Name="TacticalBuildObjectsBehaviorType">

         <!-- Maria 06.23.2006 - Here one can define which types can be built on a given Hard-Point socket!.  
			The sockets have been divided into different 'types' themselves (ie. Body, Leg, etc!).  
			Given that there are multiple sockets of the same type by defining the list of buildable types we make sure
			that all of them have the same list of types assigned!.
			
			So every socket that has TACTICAL_BUILD_OBJECTS behavior, must have this HP_Socket_Type_Name entry with the 
			respective socket type name assigned to it!.  The different Socket types are defined as part of a dynamic enum
			that can be found in HPSocketType.xml.
			
			For the list of buildable types assigned to this specific Socket type refer to HPSocketTypeBuildDependencies.xml
			If you have any question please ask MARIA!.  Thanks -->


         <HP_Socket_Type> Masari_Matter_Engine_Socket </HP_Socket_Type>

         <Tactical_Build_Hard_Point_Attachment_Bone> HP_ATTACH_00 </Tactical_Build_Hard_Point_Attachment_Bone>
         <Minimum_Time_Before_Pad_Can_Build_Again>5</Minimum_Time_Before_Pad_Can_Build_Again>

         <Visible_To_Enemies_When_Empty>true</Visible_To_Enemies_When_Empty>
         <Hides_When_Built_On>No</Hides_When_Built_On>
         <Destroy_When_Child_Dies>No</Destroy_When_Child_Dies>

         <Upgrading_Structure_Effect_Generator_Name> UpgradingStructureEffectGenerator </Upgrading_Structure_Effect_Generator_Name>

      </BehaviorType>


      <Abilities SubObjectList="Yes">

         <Effect_Generator_Ability Name="Matter_Engine_Self_Destruct_Special_Ability">
            <Activation_Style> User_Input </Activation_Style>
            <Activation_Min_Range> 0 </Activation_Min_Range>
            <Activation_Max_Range> 500 </Activation_Max_Range>
            <Effect_Generator_Name> MatterEngineSelfDestructGenerator </Effect_Generator_Name>
            <Is_Self_Targeted> true </Is_Self_Targeted>
            <Can_Target_Allies>Yes</Can_Target_Allies>
         </Effect_Generator_Ability>

      </Abilities>

      <Unit_Abilities_Data SubObjectList="Yes">

         <Unit_Ability Name="Matter_Engine_Self_Destruct_Ability">
            <Type>EFFECT_GENERATOR</Type>
            <Is_Modal>false</Is_Modal>
            <Expiration_Seconds> 5.0 </Expiration_Seconds>
            <Recharge_Seconds>1.0</Recharge_Seconds>
            <GUI_Activated_Ability_Name> Matter_Engine_Self_Destruct_Special_Ability </GUI_Activated_Ability_Name>
            <Effect_Generator_Name> MatterEngineSelfDestructGenerator </Effect_Generator_Name>
         </Unit_Ability>

      </Unit_Abilities_Data>


      <Effect_Generator_Data SubObjectList="Yes">

         <Effect_Generator Name="MasariSwitchGenerator">
            <Should_Deactivate_Manually> false </Should_Deactivate_Manually>
            <Is_Independent_Generator>Yes</Is_Independent_Generator>

            <Effect_Generator_Entry Name="Entry1">
               <Duration> 0.5 </Duration>
               <Base_Delay> 0.4 </Base_Delay>
               <Effect_Name> MasariFullArmorEffect </Effect_Name>
               <Target_Gathering_Mask> Self </Target_Gathering_Mask>
               <!-- only in ice mode -->
               <Target_Filter_C> In_Ice_Mode </Target_Filter_C>
            </Effect_Generator_Entry>

         </Effect_Generator>

         <Effect_Generator Name="MasariStationaryRevelationGenerator">
            <Should_Deactivate_Manually> false </Should_Deactivate_Manually>
            <Is_Independent_Generator>Yes</Is_Independent_Generator>
            <Modal_Refresh_Frequency> 3.0 </Modal_Refresh_Frequency>
            <Starts_Active> yes </Starts_Active>

            <Effect_Generator_Entry Name="Entry1">
               <Duration> 3.1 </Duration>
               <Effect_Name> MasariStationaryRevelationEffect </Effect_Name>
               <Target_Gathering_Mask> Self </Target_Gathering_Mask>
            </Effect_Generator_Entry>

         </Effect_Generator>

         <Effect_Generator Name="MatterEngineSelfDestructGenerator">
            <Starts_Active> false </Starts_Active>

            <Effect_Generator_Entry Name="Entry1">
               <Effect_Name> MatterEngineSelfDestructEffect </Effect_Name>
               <Duration> 5.0 </Duration>
               <Target_Gathering_Mask> Self </Target_Gathering_Mask>
            </Effect_Generator_Entry>

         </Effect_Generator>


         <Effect_Generator Name="Matter_Engine_Researched_Leech_Effect">
            <Should_Deactivate_Manually> true </Should_Deactivate_Manually>
            <Modal_Refresh_Frequency> 3.0 </Modal_Refresh_Frequency>
            <Starts_Active> true </Starts_Active>

            <Effect_Generator_Entry Name="Entry1">
               <Effect_Name> MatterEngineResearchedLeechEffect </Effect_Name>
               <Duration> 3.1 </Duration>
               <Target_Gathering_Mask> SelfAE </Target_Gathering_Mask>
               <Target_Filter_Categories> ~DeathCloneResource + ~Flying + ~Untargetable </Target_Filter_Categories>
               <Target_Filter_C> Is_Enemy </Target_Filter_C>
               <Area_Effect_Radius> 150.0 </Area_Effect_Radius>
            </Effect_Generator_Entry>

            <Effect_Generator_Entry Name="Entry2">
               <Effect_Name> MatterEngineResearchedLeechVisualEffect </Effect_Name>
               <Duration> 3.0 </Duration>
               <Target_Gathering_Mask> Self </Target_Gathering_Mask>
               <Deactivate_Parent_If_Idle> true </Deactivate_Parent_If_Idle>
            </Effect_Generator_Entry>

         </Effect_Generator>

         <Effect_Generator Name="MasariIncomeGenerator">
            <Should_Deactivate_Manually> false </Should_Deactivate_Manually>
            <Is_Independent_Generator>Yes</Is_Independent_Generator>
            <Modal_Refresh_Frequency> 3.0 </Modal_Refresh_Frequency>
            <Starts_Active> yes </Starts_Active>

            <Effect_Generator_Entry Name="Entry1">
               <Duration> 3.1 </Duration>
               <Effect_Name> MasariIncomeEffect </Effect_Name>
               <Target_Gathering_Mask> Self </Target_Gathering_Mask>
            </Effect_Generator_Entry>

         </Effect_Generator>

         <!-- Standard Sell generator  - 06/28/2007 -->
         <!--INCLUDE ".\Data\XML\Includes\Sell_Effect_Generators\MASARI_Sell_Generators.xml" -->

      </Effect_Generator_Data>

   </X13_Masari_Structures>



   <!-- **************************************************************************************** -->
   <!-- *** VARIANTS *************************************************************************** -->
   <!-- **************************************************************************************** -->

   <!-- ********************************** Fire *************************************** -->

   <X13_Masari_Structures Name="Masari_Elemental_Collector_Fire">
      <Variant_Of_Existing_Type> Masari_Elemental_Collector </Variant_Of_Existing_Type>
      <Is_Placed_By_Editor>false</Is_Placed_By_Editor>

      <BehaviorType Name="GroundStructureBehaviorType">
         <Is_Buildable_By_Constructor> false </Is_Buildable_By_Constructor>
      </BehaviorType>

      <BehaviorType Name="TooltipBehaviorType">
         <Tooltip_Description_Text_ID> TEXT_TOOLTIP_DESCRIPTION_MASARI_MATTER_ENGINE_LIGHT_ALT </Tooltip_Description_Text_ID>
         <Tooltip_Category> TEXT_TOOLTIP_CATEGORY_STRUCTURE </Tooltip_Category>

         <!--  MARIA: We need to know if the structure's tooltip must be modified by its hps (upgrades).
               NOTE: this flag defaults to No -->
         <HP_Attachment_Modifies_Tooltip> Yes </HP_Attachment_Modifies_Tooltip>
      </BehaviorType>

      <BehaviorType Name="TypeSwitchBehaviorType">
      </BehaviorType>

      <Effect_Generator_Data SubObjectList="Yes" Replace="No">

         <Effect_Generator Name="GroundInspirationFireVisualGenerator">
            <Starts_Active> true </Starts_Active>

            <Effect_Generator_Entry Name="Entry1">
               <Effect_Name> MatterEngineFireVisualEffect </Effect_Name>
               <Duration> -1.0 </Duration>
               <Target_Gathering_Mask> Self </Target_Gathering_Mask>
            </Effect_Generator_Entry>
         </Effect_Generator>

         <!-- Standard DMA generator - Oksana 05/14/2007 -->
         <!--INCLUDE ".\Data\XML\Includes\Masari_DMA\MASARI_DMA_Light_Mode_Generators.xml" -->


         <Effect_Generator Name="MasariResearchBurningAuraEffectGenerator">
            <Should_Deactivate_Manually> false </Should_Deactivate_Manually>
            <Modal_Refresh_Frequency> 2.0 </Modal_Refresh_Frequency>
            <Starts_Active> true </Starts_Active>

            <Effect_Generator_Entry Name="Entry1">
               <Effect_Name> MasariResearchBurningAuraEffect </Effect_Name>
               <Duration> 1.8 </Duration>
               <Target_Gathering_Mask> SelfAE </Target_Gathering_Mask>
               <Target_Filter_Categories> ~DeathCloneResource </Target_Filter_Categories>
               <Target_Filter_C> Is_Enemy </Target_Filter_C>
               <Area_Effect_Radius> 125.0 </Area_Effect_Radius>
            </Effect_Generator_Entry>

            <Effect_Generator_Entry Name="Entry2">
               <Effect_Name> MasariResearchBurningAuraSelfEffect </Effect_Name>
               <Duration> 2.1 </Duration>
               <Target_Gathering_Mask> Self </Target_Gathering_Mask>
            </Effect_Generator_Entry>

         </Effect_Generator>

         <!-- Standard generator for structures with upgrades being built - Maria 06.09.2007 -->
         <!--INCLUDE ".\Data\XML\Includes\Generic_Upgrading_Structure_Effects\Generic_Upgrading_Structure_Generators.xml" -->

      </Effect_Generator_Data>

      <BehaviorType Name="SwitchTypeBehaviorType">
         <Keep_Hardpoints_On_Switch> true </Keep_Hardpoints_On_Switch>
      </BehaviorType>

   </X13_Masari_Structures>




   <!-- ********************************** Ice *************************************** -->

   <X13_Masari_Structures Name="Masari_Elemental_Collector_Ice">
      <Variant_Of_Existing_Type> Masari_Elemental_Collector </Variant_Of_Existing_Type>
      <Is_Placed_By_Editor>false</Is_Placed_By_Editor>

      <Land_FOW_Reveal_Range>200.0</Land_FOW_Reveal_Range>

      <BehaviorType Name="GroundStructureBehaviorType">
         <Is_Buildable_By_Constructor> false </Is_Buildable_By_Constructor>
      </BehaviorType>

      <BehaviorType Name="TooltipBehaviorType">
         <Tooltip_Description_Text_ID> TEXT_TOOLTIP_DESCRIPTION_MASARI_MATTER_ENGINE_DARK_ALT </Tooltip_Description_Text_ID>
         <Tooltip_Category> TEXT_TOOLTIP_CATEGORY_STRUCTURE </Tooltip_Category>

         <!--  MARIA: We need to know if the structure's tooltip must be modified by its hps (upgrades).
               NOTE: this flag defaults to No -->
         <HP_Attachment_Modifies_Tooltip> Yes </HP_Attachment_Modifies_Tooltip>
      </BehaviorType>

      <BehaviorType Name="TypeSwitchBehaviorType">
      </BehaviorType>

      <Attributes SubObjectList="Yes">
         <DMA_Max> 600.0 </DMA_Max>
         <DMA_Regen_Rate> 12.0 </DMA_Regen_Rate>
      </Attributes>

      <Effect_Generator_Data SubObjectList="Yes" Replace="No">

         <Effect_Generator Name="MatterEngineIceVisualGenerator">

            <Starts_Active> true </Starts_Active>

            <Effect_Generator_Entry Name="Entry1">
               <Effect_Name> MatterEngineIceVisualEffect </Effect_Name>
               <Duration> -1.0 </Duration>
               <Target_Gathering_Mask> Self </Target_Gathering_Mask>
            </Effect_Generator_Entry>

         </Effect_Generator>

         <!-- Standard DMA generator - Oksana 05/14/2007 -->
         <!--INCLUDE ".\Data\XML\Includes\Masari_DMA\MASARI_DMA_Dark_Mode_Generators_Structure.xml" -->

         <!-- Standard generator for structures with upgrades being built - Maria 06.09.2007 -->
         <!--INCLUDE ".\Data\XML\Includes\Generic_Upgrading_Structure_Effects\Generic_Upgrading_Structure_Generators.xml" -->

      </Effect_Generator_Data>


      <BehaviorType Name="SwitchTypeBehaviorType">
         <Keep_Hardpoints_On_Switch> true </Keep_Hardpoints_On_Switch>
      </BehaviorType>
   </X13_Masari_Structures>





   <!-- **************************************************************************************** -->
   <!-- *** CONSTRUCTION VERSION *************************************************************** -->
   <!-- **************************************************************************************** -->

   <X13_Masari_Structures Name="Masari_Elemental_Collector_Construction">

      <!-- ART -->
      <Land_Model_Name>ZB_EL_Collector.alo</Land_Model_Name>
      <Scale_Factor>0.8</Scale_Factor>
      <Multisample_FOW_Check>Yes</Multisample_FOW_Check>
      <Last_State_Visible_Under_FOW> Yes </Last_State_Visible_Under_FOW>
      <AssetBank> BANK_MASARI </AssetBank>

      <!-- INTERFACE -->
      <Text_ID>TEXT_MASARI_STRUCTURE_MATTER_ENGINE </Text_ID>
      <Icon_Name> i_icon_mb_elemental_collector.tga </Icon_Name>
      <Is_Placed_By_Editor>false</Is_Placed_By_Editor>

      <!-- ATTRIBUTES -->
      <CategoryMask> Large, Stationary, TacticalBuildableStructure </CategoryMask>
      <Affiliation> Masari </Affiliation>
      <Victory_Relevant> True </Victory_Relevant>

      <Attributes SubObjectList="Yes">
         <!-- This MODIFIER determines what portion of the whole price we must reduce.  Hence, a modifier
			of value 0 means that we refund 100%, a modifier of -0.2 means we refund 80%, etc. -->
         <Tactical_Sell_Percent_Modifier> 0.0 </Tactical_Sell_Percent_Modifier>
         <Tactical_Sell_Time_Seconds>0.5</Tactical_Sell_Time_Seconds>

         <!-- Can never build faster than 2x the speed (50% less time) -->
         <Max_Structure_Build_Rate>4.0</Max_Structure_Build_Rate>
      </Attributes>


      <!-- MOVEMENT -->
      <Space_Layer> LandDynamic </Space_Layer>
      <MovementClass>Building</MovementClass>
      <UnitCollisionClass> HighObstacle </UnitCollisionClass>
      <Custom_Hard_XExtent> 33.0 </Custom_Hard_XExtent>
      <Custom_Hard_YExtent> 33.0 </Custom_Hard_YExtent>
		<Is_Immune_To_Tornado>true</Is_Immune_To_Tornado>
		<Tornado_Movement_Factor>0.00001</Tornado_Movement_Factor>

		<!-- CONFLICT -->
      <Is_Attackable> true </Is_Attackable>
      <Collidable_By_Projectile_Living>Yes</Collidable_By_Projectile_Living>
      <Ranged_Target_Z_Adjust> 10.0 </Ranged_Target_Z_Adjust>

      <Tactical_Health> 1000 </Tactical_Health>
      <Dense_FOW_Reveal_Range_Multiplier> 0.0 </Dense_FOW_Reveal_Range_Multiplier>
      <Land_Damage_Thresholds>1, 0.66, 0.33, 0</Land_Damage_Thresholds>
      <Land_Damage_Alternates>0, 1, 2, 3</Land_Damage_Alternates>
      <Land_Damage_SFX>null,SFX_GENERIC_DETONATION, SFX_GENERIC_DETONATION,null</Land_Damage_SFX>

      <!-- BEHAVIORS -->
      <!-- NOTE: TACTICAL_UNDER_CONSTRUCTION does not work as a Land_Behavior, since the type - > Behaves_Like() fails for some reason when it should not - need to fix -->
      <Behavior>
         ATTRIBUTE_DIRECTORY,
         EFFECT_REGISTRY,
         EFFECT_GENERATOR,
         TACTICAL_UNDER_CONSTRUCTION,
         SELECTABLE,
         REVEAL,
         HIDE_WHEN_FOGGED,
         RADAR_MAP_VISIBLE,
         DAMAGE_TRACKING,
         TACTICAL_SELL,
         TERRAFORM,
         GUI
      </Behavior>

      <BehaviorType Name="ArmorAndDamageBehaviorType">
         <Armor_Type> Armor_Masari_Structure_Light </Armor_Type>
      </BehaviorType>

      <BehaviorType Name="GameEventSourceBehaviorType">
         <Game_Event_Source_Category> StructureUnderConstruction </Game_Event_Source_Category>
      </BehaviorType>

      <BehaviorType Name="ProductionBehaviorType">
         <Is_Research_Tech_Tree_Lockable> Yes </Is_Research_Tech_Tree_Lockable>
      </BehaviorType>

      <BehaviorType Name="BuildableObjectBehaviorType">
         <Tactical_Buildable_Beacon_Type> Masari_Elemental_Collector_Beacon </Tactical_Buildable_Beacon_Type>
         <Tactical_Buildable_Constructed> Masari_Elemental_Collector </Tactical_Buildable_Constructed>
         <Tactical_Build_Cost_Multiplayer> 75 </Tactical_Build_Cost_Multiplayer>
         <Tactical_Build_Cost_Campaign> 75 </Tactical_Build_Cost_Campaign>
         <Tactical_Build_Time_Seconds> 40 </Tactical_Build_Time_Seconds>
         <Tactical_UI_Build_Queue_Order> 2 </Tactical_UI_Build_Queue_Order>
         <Tactical_Build_Requires_Builder> true </Tactical_Build_Requires_Builder>
      </BehaviorType>

      <BehaviorType Name="TacticalSellBehaviorType">
         <Sell_Effect_Generator_Name>MasariSellGenerator</Sell_Effect_Generator_Name>
      </BehaviorType>

      <BehaviorType Name="DeathFXBehaviorType">
         <Remove_Upon_Death>true</Remove_Upon_Death>
         <Death_Clone_Is_Obstacle> false </Death_Clone_Is_Obstacle>
         <Death_Explosions>Large_Explosion_Land</Death_Explosions>
      </BehaviorType>

      <BehaviorType Name="RadarMapBehaviorType">
         <Radar_Icon_Size>0.05  0.05</Radar_Icon_Size>
      </BehaviorType>

      <BehaviorType Name="BlobShadowBehaviorType">
         <No_Reflection_Below_Detail_Level> 1 </No_Reflection_Below_Detail_Level>
         <No_Refraction_Below_Detail_Level> 1 </No_Refraction_Below_Detail_Level>
         <No_Reflection_Below_Detail_Level>1</No_Reflection_Below_Detail_Level>
      </BehaviorType>

      <BehaviorType Name="GUIBehaviorType">
         <GUI_Scene_Name> HealthBar_Scene_Medium </GUI_Scene_Name>
         <GUI_Receives_Input> no </GUI_Receives_Input>
         <GUI_Min_Scale> 0.8 </GUI_Min_Scale>
         <GUI_Max_Scale> 3.0 </GUI_Max_Scale>
         <GUI_Default_Scale> 1.0 </GUI_Default_Scale>
      </BehaviorType>

      <BehaviorType Name="SFXBehaviorType">
         <SFXEvent_Select />
         <SFXEvent_Unit_Lost />
         <SFXEvent_Tactical_Build_Started />
         <SFXEvent_Tactical_Build_Complete />
         <SFXEvent_Tactical_Build_Cancelled />
         <Death_SFXEvent_Start_Die />
      </BehaviorType>

		<BehaviorType Name="CrushBehaviorType">
			<Crush_Defense>60</Crush_Defense>
			<Crush_Power>55</Crush_Power>
		</BehaviorType>

      <BehaviorType Name="EncyclopediaBehaviorType">
         <Icon_Name> i_icon_mb_elemental_collector.tga </Icon_Name>
      </BehaviorType>

      <BehaviorType Name="SelectableBehaviorType">
         <Select_Box_Scale>50</Select_Box_Scale>
         <Select_Box_Z_Adjust>3.0f</Select_Box_Z_Adjust>
      </BehaviorType>

      <BehaviorType Name="RevealBehaviorType">
         <Land_FOW_Reveal_Range>30.0</Land_FOW_Reveal_Range>
      </BehaviorType>

      <BehaviorType Name="TerraformBehaviorType">
         <Bib_X_Extent> 45 </Bib_X_Extent>
         <Bib_Y_Extent> 45 </Bib_Y_Extent>
      </BehaviorType>

      <BehaviorType Name="TooltipBehaviorType">
         <Tooltip_Description_Text_ID> TEXT_TOOLTIP_DESCRIPTION_MASARI_MATTER_ENGINE_LIGHT_ALT </Tooltip_Description_Text_ID>
         <Tooltip_Category> TEXT_TOOLTIP_CATEGORY_STRUCTURE </Tooltip_Category>
      </BehaviorType>
      
      <Effect_Generator_Data SubObjectList="Yes">

         <!-- Standard Sell generator  - 06/28/2007 -->
         <!--INCLUDE ".\Data\XML\Includes\Sell_Effect_Generators\MASARI_Sell_Generators.xml" -->

      </Effect_Generator_Data>

   </X13_Masari_Structures>


   <!-- **************************************************************************************** -->
   <!-- *** BEACON ***************************************************************************** -->
   <!-- **************************************************************************************** -->

   <!-- Oksana: beacon for building the glyph. You'll need a builder unit to build from beacon -->
   <X13_Masari_Structures Name="Masari_Elemental_Collector_Beacon">

      <!-- ART -->
      <!-- STUB FOR ELIE -->
      <Land_Model_Name>ZB_Beacon.alo</Land_Model_Name>
      <Scale_Factor>0.8</Scale_Factor>
      <Is_Decoration>No</Is_Decoration>
      <AssetBank> BANK_MASARI </AssetBank>

      <!-- INTERFACE -->
      <Is_Placed_By_Editor> false </Is_Placed_By_Editor>
      <Text_ID>TEXT_MASARI_STRUCTURE_MATTER_ENGINE_BEACON </Text_ID>

      <!-- ATTRIBUTES -->
      <Attributes SubObjectList="Yes">
         <!-- This MODIFIER determines what portion of the whole price we must reduce.  Hence, a modifier
			of value 0 means that we refund 100%, a modifier of -0.2 means we refund 80%, etc. -->
         <Tactical_Sell_Percent_Modifier> 0.0 </Tactical_Sell_Percent_Modifier>
         <Tactical_Sell_Time_Seconds>0.5</Tactical_Sell_Time_Seconds>
			<Is_Immune_To_Mind_Control> true </Is_Immune_To_Mind_Control>
			<Is_Immune_To_Virus> true </Is_Immune_To_Virus>
      </Attributes>

      <CategoryMask> TacticalBuildableStructure, Stationary </CategoryMask>
      <Is_Immune_To_Tornado>true</Is_Immune_To_Tornado>
      <Affiliation> Masari </Affiliation>

      <!-- CONFLICT -->
      <Is_Attackable>Yes</Is_Attackable>
      <Collidable_By_Projectile_Living> Yes </Collidable_By_Projectile_Living>
      <Ranged_Target_Z_Adjust> 0.0 </Ranged_Target_Z_Adjust>
      <Tactical_Health>1</Tactical_Health>

      <!-- BEHAVIORS -->
      <Behavior>
         ATTRIBUTE_DIRECTORY,
         EFFECT_REGISTRY,
         EFFECT_GENERATOR,
         INVULNERABLE,
         CLOAKED,
         TACTICAL_BUILDABLE_BEACON,
         SELECTABLE,
         TACTICAL_SELL
      </Behavior>

      <BehaviorType Name="GameEventSourceBehaviorType">
         <Game_Event_Source_Category> TacticalBuildBeacon </Game_Event_Source_Category>
      </BehaviorType>

      <BehaviorType Name="ProductionBehaviorType">
         <Is_Research_Tech_Tree_Lockable> Yes </Is_Research_Tech_Tree_Lockable>
      </BehaviorType>

      <BehaviorType Name="TooltipBehaviorType">
         <Tooltip_Description_Text_ID> TEXT_TOOLTIP_DESCRIPTION_MASARI_MATTER_ENGINE_LIGHT_ALT </Tooltip_Description_Text_ID>
         <Tooltip_Category> TEXT_TOOLTIP_CATEGORY_STRUCTURE </Tooltip_Category>
      </BehaviorType>

      <BehaviorType Name="BuildableObjectBehaviorType">
         <Tactical_Buildable_Constructed> Masari_Elemental_Collector_Construction </Tactical_Buildable_Constructed>
      </BehaviorType>

      <BehaviorType Name="TacticalSellBehaviorType">
         <Sell_Effect_Generator_Name>MasariSellGenerator</Sell_Effect_Generator_Name>
      </BehaviorType>

      <BehaviorType Name="TacticalBuildableBeaconBehaviorType">
      </BehaviorType>

      <BehaviorType Name="SFXBehaviorType">
         <SFXEvent_Fire> SFX_Alien_Radiation_Detonation_1 </SFXEvent_Fire>
      </BehaviorType>

      <BehaviorType Name="CrushBehaviorType">
         <Crush_Defense>90</Crush_Defense>
      </BehaviorType>

      <BehaviorType Name="SelectableBehaviorType">
         <Select_Box_Scale>50</Select_Box_Scale>
         <Select_Box_Z_Adjust>3.0f</Select_Box_Z_Adjust>
      </BehaviorType>

      <Effect_Generator_Data SubObjectList="Yes">

         <!-- Standard Sell generator  - 06/28/2007 -->
         <!--INCLUDE ".\Data\XML\Includes\Sell_Effect_Generators\MASARI_Sell_Generators.xml" -->

      </Effect_Generator_Data>

   </X13_Masari_Structures>




	<!-- **************************************************************************************** -->
	<!-- ****DEATH CLONE(S)********************************************************************** -->
	<!-- **************************************************************************************** -->

	<X13_Masari_Structures Name="Masari_Elemental_Collector_Death_Clone">

		<!-- ART -->
		<Land_Model_Name>ZB_el_collector_DC.ALO</Land_Model_Name>
		<Scale_Factor>0.8</Scale_Factor>
		<AssetBank> BANK_MASARI </AssetBank>

		<!-- INTERFACE -->
		<Text_ID>TEXT_NONE</Text_ID>
		<Is_Placed_By_Editor>false</Is_Placed_By_Editor>

		<!-- ATTRIBUTES -->
		<Is_Immune_To_Tornado>true</Is_Immune_To_Tornado>

		<!-- CONFLICT -->
		<Ranged_Target_Z_Adjust>0.1</Ranged_Target_Z_Adjust>

		<LandBehavior>
			EFFECT_REGISTRY,
			EFFECT_GENERATOR,
			ATTRIBUTE_DIRECTORY,
			PARTICLE
		</LandBehavior>

		<BehaviorType Name="SFXBehaviorType">
			<Death_SFXEvent_End_Die />
			<Death_SFXEvent_Start_Die> SFX_Masari_Large_Structure_Death </Death_SFXEvent_Start_Die>
		</BehaviorType>

		<BehaviorType Name="DeathFXBehaviorType">
			<Specific_Death_Anim_Type> Die </Specific_Death_Anim_Type>
			<Death_Fade_Time> 0.05 </Death_Fade_Time>
			<Death_Persistence_Duration> 0.5 </Death_Persistence_Duration>
			<Death_Clone_Is_Obstacle> false </Death_Clone_Is_Obstacle>
			<On_Death_Spawn_Object_Type> Matter_Engine_On_Death_Explosion </On_Death_Spawn_Object_Type>
		</BehaviorType>

	</X13_Masari_Structures>





	<!--=================================================================================================
	== [03/08/2007] - KDB
	================================================================================================== -->
   <X13_Masari_Structures Name="Matter_Engine_On_Death_Explosion">

      <!-- ART -->
      <Is_Decoration>No</Is_Decoration>
      <!-- place holder -->
      <Land_Model_Name> AV_Defiler_hulk.alo </Land_Model_Name>
      <Scale_Factor>0.1</Scale_Factor>
      <AssetBank> BANK_MASARI </AssetBank>

      <!-- INTERFACE -->
      <Text_ID> </Text_ID>
      <Is_Placed_By_Editor> false </Is_Placed_By_Editor>

      <!-- ATTRIBUTES -->
      <Is_Immune_To_Tornado>true</Is_Immune_To_Tornado>

      <!-- CONFLICT -->
      <Tactical_Health> 10000000 </Tactical_Health>

      <!-- BEHAVIORS -->
      <LandBehavior>
			EFFECT_REGISTRY,
			EFFECT_GENERATOR,
			ATTRIBUTE_DIRECTORY,
			HIDE_WHEN_FOGGED,
			PARTICLE			<!-- to self-destruct -->
      </LandBehavior>

      <Particle_Lifetime_Frames> 90 </Particle_Lifetime_Frames>

      <BehaviorType Name="ArmorAndDamageBehaviorType">
         <Armor_Type> Armor_Default </Armor_Type>
      </BehaviorType>

      <BehaviorType Name="DeathFXBehaviorType">
         <Remove_Upon_Death> Yes </Remove_Upon_Death>
      </BehaviorType>

      <BehaviorType Name="SFXBehaviorType">
         <Death_SFXEvent_Start_Die />
         <SFXEvent_Unit_Lost />
      </BehaviorType>

		<Attributes SubObjectList="Yes">
			<Is_Immune_To_Mind_Control> true </Is_Immune_To_Mind_Control>
			<Is_Immune_To_Virus> true </Is_Immune_To_Virus>
		</Attributes>

		<!-- EFFECT GENERATORS -->
      <Effect_Generator_Data SubObjectList="Yes">

         <Effect_Generator Name="MatterEngineOnDeathExplosionGenerator">
            <Should_Deactivate_Manually> false </Should_Deactivate_Manually>
            <Starts_Active> true </Starts_Active>

            <Effect_Generator_Entry Name="Entry1">
               <Effect_Name> MatterEngineOnDeathExplosionEffect </Effect_Name>
               <Remove_On_Death> false </Remove_On_Death>
               <Duration> 3.0 </Duration>
               <Target_Gathering_Mask> SelfAE </Target_Gathering_Mask>
               <Area_Effect_Radius> 200.0 </Area_Effect_Radius>
               <Should_Add_All_Team_Members_As_Targets> false </Should_Add_All_Team_Members_As_Targets>
               <Should_Add_Team_Container_As_Target> false </Should_Add_Team_Container_As_Target>
               <Target_Filter_Categories> All </Target_Filter_Categories>
               <Linked_Effect_Names> MatterEngineOnDeathExplosionDamageEffect </Linked_Effect_Names>
            </Effect_Generator_Entry>

            <Effect_Generator_Entry Name="Entry2">
               <Effect_Name> MatterEngineOnDeathExplosionSelfEffect </Effect_Name>
               <Remove_On_Death> false </Remove_On_Death>
               <Duration> 3.0 </Duration>
               <Target_Gathering_Mask> Self </Target_Gathering_Mask>
            </Effect_Generator_Entry>

         </Effect_Generator>

      </Effect_Generator_Data>


   </X13_Masari_Structures>

   <!-- **************************************************************************************** -->
   <!-- *** HARDPOINTS ************************************************************************* -->
   <!-- **************************************************************************************** -->

   <HardPoint Name="Masari_Matter_Engine_HP">

      <!-- ART -->
      <Land_Model_Name>Invisible_HardPoint.alo</Land_Model_Name>
      <Scale_Factor> 1.0 </Scale_Factor>
      <!-- _00, _01, _02, etc. is automatically attached -->
      <Target_Bones> </Target_Bones>
      <Exclude_From_Distance_Fade> true </Exclude_From_Distance_Fade>
      <AssetBank> BANK_MASARI </AssetBank>

      <!-- INTERFACE -->
      <Is_Placed_By_Editor> false </Is_Placed_By_Editor>

      <!-- ATTRIBUTES -->
      <Attributes SubObjectList="Yes">
         <!-- This MODIFIER determines what portion of the whole price we must reduce.  Hence, a modifier
			of value 0 means that we refund 100%, a modifier of -0.2 means we refund 80%, etc. -->
         <Tactical_Sell_Percent_Modifier> -0.1 </Tactical_Sell_Percent_Modifier>
			<Is_Immune_To_Virus> true </Is_Immune_To_Virus>
		</Attributes>

      <CategoryMask> Stationary </CategoryMask>
      <Affiliation> Masari </Affiliation>

      <!-- CONFLICT -->
      <Is_Attackable> false </Is_Attackable>
      <Collidable_By_Projectile_Living> Yes </Collidable_By_Projectile_Living>
      <Collidable_By_Projectile_Dead> No </Collidable_By_Projectile_Dead>
      <Ranged_Target_Z_Adjust> 37.0 </Ranged_Target_Z_Adjust>
      <Tactical_Health> 500 </Tactical_Health>

		<Land_Damage_Thresholds>1, 0.66, 0.33, 0</Land_Damage_Thresholds>
		<Land_Damage_Alternates>0, 1, 2, 3</Land_Damage_Alternates>
		<Land_Damage_SFX>null,SFX_GENERIC_DETONATION, SFX_GENERIC_DETONATION,null</Land_Damage_SFX>

      <!-- BEHAVIORS -->
      <!-- Any unit that has hard points requires a Behavior entry with HARD_POINT_MANAGER, and an <Attached_Hard_Points> list  -->
      <!-- Any object that is a hard point requires a Behavior entry with HARD_POINT -->
      <Behavior>
         HARD_POINT
      </Behavior>

      <LandBehavior>
         TACTICAL_SELL,
         <!--JOEXMLCLEAN GUI,-->
         EFFECT_REGISTRY,
         EFFECT_GENERATOR,
         ATTRIBUTE_DIRECTORY,
         IDLE
      </LandBehavior>

      <BehaviorType Name="ArmorAndDamageBehaviorType">
         <Armor_Type> Armor_Masari_Structure_Light </Armor_Type>
      </BehaviorType>

      <!-- Maria 08.09.2006  We want this object to be buildable -->
      <BehaviorType Name="ProductionBehaviorType">
         <Is_Research_Tech_Tree_Lockable> Yes </Is_Research_Tech_Tree_Lockable>
      </BehaviorType>

      <BehaviorType Name="TooltipBehaviorType">
         <Tooltip_Description_Text_ID> TEXT_TOOLTIP_DESCRIPTION_MASARI_MATTER_SIFTER_ALT </Tooltip_Description_Text_ID>
         <Tooltip_Category> TEXT_TOOLTIP_CATEGORY_STRUCTURE </Tooltip_Category>
      </BehaviorType>

      <BehaviorType Name="BuildableObjectBehaviorType">
         <Tactical_Under_Construction_Object_Type> Masari_Matter_Engine_HP_Under_Construction </Tactical_Under_Construction_Object_Type>
      </BehaviorType>

      <BehaviorType Name="TacticalSellBehaviorType">
         <Tactical_Sell_Time_Seconds />
      </BehaviorType>


      <BehaviorType Name="HardPointBehaviorType">
         <HP_Type> HARD_POINT_DUMMY_ART </HP_Type>
         <HP_Replacement_Object_Type_When_Destroyed>  </HP_Replacement_Object_Type_When_Destroyed>
         <HP_Single_Destruction_Destroys_Parent> No </HP_Single_Destruction_Destroys_Parent>
         <!-- Destroying this one hard point will trigger the parent object to be destroyed -->

         <HP_Parent_Takes_Damage>true</HP_Parent_Takes_Damage>
         <!--  MARIA: We need to know if this hard point is allowed to modify its parent's tooltip.
               MAKE SURE YOU SET THIS FLAG FOR HARD POINT OBJECTS ONLY! (otherwise it will do nothing)
               NOTE: this flag defaults to No -->
         <Modifies_Parent_Tooltip> Yes </Modifies_Parent_Tooltip>

      </BehaviorType>

      <BehaviorType Name="SFXBehaviorType">
         <SFXEvent_Fire>  </SFXEvent_Fire>
         <Death_SFXEvent_Start_Die> SFX_Masari_HP_Weapon_1_Death </Death_SFXEvent_Start_Die>
         <SFXEvent_Turret_Rotating_Loop> SFX_Masari_Medium_Turret_Loop </SFXEvent_Turret_Rotating_Loop>
      </BehaviorType>

      <BehaviorType Name="LockableByDynamicScannerBehaviorType">
         <Dynamic_Scan_Target_Effect_Particle_Name> Dynamic_Scan_Target </Dynamic_Scan_Target_Effect_Particle_Name>
         <Dynamic_Scan_Target_Lock_Max_Delay_Seconds> 2.0 </Dynamic_Scan_Target_Lock_Max_Delay_Seconds>
         <Dynamic_Scan_Target_Lock_Min_Delay_Seconds> 0.0 </Dynamic_Scan_Target_Lock_Min_Delay_Seconds>
      </BehaviorType>

      <BehaviorType Name="DeathFXBehaviorType">
         <Remove_Upon_Death> Yes </Remove_Upon_Death>
         <!-- Yes: Instantly destroy death clone when effects are started -->
         <Death_Explosions> Small_Explosion_Land </Death_Explosions>
      </BehaviorType>

      <BehaviorType Name="CrushBehaviorType">
         <Crush_Defense>90</Crush_Defense>
      </BehaviorType>

      <Effect_Generator_Data SubObjectList="Yes" Replace="No">

         <!-- Standard DMA generator - Oksana 05/14/2007 -->
         <!--INCLUDE ".\Data\XML\Includes\Masari_DMA\MASARI_DMA_Hardpoint_Generators.xml" -->

      </Effect_Generator_Data>

   </HardPoint>

   <!-- Generic Under_Construction hardpoint -->
   <HardPoint Name="Masari_Matter_Engine_HP_Under_Construction">

      <!-- ART -->
      <Scale_Factor> 0.8 </Scale_Factor>
      <!-- _00, _01, _02, etc. is automatically attached -->
      <Exclude_From_Distance_Fade> true </Exclude_From_Distance_Fade>

      <!-- INTERFACE -->
      <Is_Placed_By_Editor> false </Is_Placed_By_Editor>

      <!-- ATTRIBUTES -->
      <CategoryMask> Stationary | TacticalBuildableStructure </CategoryMask>
      <Affiliation> Masari </Affiliation>

      <!-- CONFLICT -->
      <Is_Attackable> true </Is_Attackable>
      <Collidable_By_Projectile_Living> Yes </Collidable_By_Projectile_Living>
      <Collidable_By_Projectile_Dead> No </Collidable_By_Projectile_Dead>
      <Tactical_Health> 500 </Tactical_Health>

      <!-- BEHAVIORS -->
      <Behavior>
         TACTICAL_UNDER_CONSTRUCTION,
         HARD_POINT,
         EFFECT_REGISTRY,
         ATTRIBUTE_DIRECTORY,
         EFFECT_GENERATOR
      </Behavior>

      <BehaviorType Name="GameEventSourceBehaviorType">
         <Game_Event_Source_Category> HardpointUnderConstruction </Game_Event_Source_Category>
      </BehaviorType>

      <BehaviorType Name="ArmorAndDamageBehaviorType">
         <Armor_Type> Armor_Masari_Structure_Light </Armor_Type>
      </BehaviorType>

      <BehaviorType Name="ProductionBehaviorType">
         <Is_Research_Tech_Tree_Lockable> Yes </Is_Research_Tech_Tree_Lockable>
      </BehaviorType>

      <BehaviorType Name="HardPointBehaviorType">
         <HP_Type> HARD_POINT_DUMMY_ART </HP_Type>
         <HP_Replacement_Object_Type_When_Destroyed>  </HP_Replacement_Object_Type_When_Destroyed>
         <HP_Single_Destruction_Destroys_Parent> No </HP_Single_Destruction_Destroys_Parent>
         <!-- Destroying this one hard point will trigger the parent object to be destroyed -->

         <HP_Parent_Takes_Damage>true</HP_Parent_Takes_Damage>
      </BehaviorType>

      <BehaviorType Name="SFXBehaviorType">
         <SFXEvent_Fire>  </SFXEvent_Fire>
         <Death_SFXEvent_Start_Die> SFX_Masari_HP_Weapon_1_Death </Death_SFXEvent_Start_Die>
         <SFXEvent_Turret_Rotating_Loop> SFX_Masari_Medium_Turret_Loop </SFXEvent_Turret_Rotating_Loop>
      </BehaviorType>

      <BehaviorType Name="LockableByDynamicScannerBehaviorType">
         <Dynamic_Scan_Target_Effect_Particle_Name> Dynamic_Scan_Target </Dynamic_Scan_Target_Effect_Particle_Name>
         <Dynamic_Scan_Target_Lock_Max_Delay_Seconds> 2.0 </Dynamic_Scan_Target_Lock_Max_Delay_Seconds>
         <Dynamic_Scan_Target_Lock_Min_Delay_Seconds> 0.0 </Dynamic_Scan_Target_Lock_Min_Delay_Seconds>
      </BehaviorType>

      <BehaviorType Name="DeathFXBehaviorType">
         <Remove_Upon_Death> Yes </Remove_Upon_Death>
         <!-- Yes: Instantly destroy death clone when effects are started -->
         <Death_Explosions> Small_Explosion_Land </Death_Explosions>
      </BehaviorType>

      <BehaviorType Name="CrushBehaviorType">
         <Crush_Defense>90</Crush_Defense>
      </BehaviorType>

      <BehaviorType Name="GUIBehaviorType">
         <GUI_Scene_Name> hard_point_reticle_weapon </GUI_Scene_Name>
         <GUI_Receives_Input> yes </GUI_Receives_Input>
         <GUI_Min_Scale> 0.3 </GUI_Min_Scale>
         <GUI_Max_Scale> 2.5 </GUI_Max_Scale>
         <GUI_Default_Scale> 0.4 </GUI_Default_Scale>
      </BehaviorType>

      <Effect_Generator_Data SubObjectList="Yes" Replace="No">

         <!-- Standard DMA generator - Oksana 05/14/2007 -->
         <!--INCLUDE ".\Data\XML\Includes\Masari_DMA\MASARI_DMA_Hardpoint_Generators.xml" -->

      </Effect_Generator_Data>

   </HardPoint>

   <HardPoint Name="Masari_Matter_Engine_Matter_Sifter">
      <Variant_Of_Existing_Type>Masari_Matter_Engine_HP</Variant_Of_Existing_Type>
      <Land_Model_Name> ZB_EL_collector_upgrade_00.alo </Land_Model_Name>
      <Scale_Factor> 0.8 </Scale_Factor>
      <Use_Base_Type_By_Default> false </Use_Base_Type_By_Default>
      <AssetBank> BANK_MASARI </AssetBank>

      <Text_ID> TEXT_MASARI_STRUCTURE_MATTER_ENGINE_SIFTER </Text_ID>

      <BehaviorType Name="BuildableObjectBehaviorType">
         <!-- Maria 06.28.2006 - What is the 'object under construction' that is placed in lieu of this object -->
         <Tactical_Under_Construction_Object_Type> Masari_Matter_Engine_Matter_Sifter_Under_Construction </Tactical_Under_Construction_Object_Type>
      </BehaviorType>

      <BehaviorType Name="EncyclopediaBehaviorType">
         <Icon_Name> i_icon_mb_matter_sifter.tga </Icon_Name>
      </BehaviorType>

      <BehaviorType Name="TooltipBehaviorType">
         <Tooltip_Description_Text_ID> TEXT_TOOLTIP_DESCRIPTION_MASARI_MATTER_SIFTER_LIGHT_ALT </Tooltip_Description_Text_ID>
         <Tooltip_Category> TEXT_TOOLTIP_CATEGORY_STRUCTURE </Tooltip_Category>

         <!-- If this guy modifies its parent he must have the text ID that should be used!.  We set the modified descriptions in the
            hard point's data given that they are the ones MODIFYING the parent's data tooltip data. -->
         <Modified_Tooltip_Description_Text_ID> TEXT_TOOLTIP_DESCRIPTION_MASARI_MATTER_ENGINE_W_MATTER_SIFTER_ALT </Modified_Tooltip_Description_Text_ID>

      </BehaviorType>

      <BehaviorType Name="TacticalBuildObjectsBehaviorType">
         <Auto_Build_Tier_Priority> 1 </Auto_Build_Tier_Priority>
      </BehaviorType>

      <Effect_Generator_Data SubObjectList="Yes" Replace="No">

         <Effect_Generator Name="MasariMatterEngineFasterHarvestGenerator">
            <Starts_Active> yes </Starts_Active>
            <Should_Deactivate_Manually> false </Should_Deactivate_Manually>
            <Modal_Refresh_Frequency> 3.0 </Modal_Refresh_Frequency>

            <Effect_Generator_Entry Name="Entry1">
               <Effect_Name> MasariMatterEngineFasterHarvestEffect </Effect_Name>
               <Duration> 3.1 </Duration>
               <Target_Gathering_Mask> SelfParent </Target_Gathering_Mask>
            </Effect_Generator_Entry>

         </Effect_Generator>

      </Effect_Generator_Data>

   </HardPoint>

   <HardPoint Name="Masari_Matter_Engine_Matter_Sifter_Under_Construction">
      <Variant_Of_Existing_Type>Masari_Matter_Engine_HP_Under_Construction</Variant_Of_Existing_Type>

      <Text_ID> TEXT_MASARI_STRUCTURE_MATTER_ENGINE_SIFTER </Text_ID>

      <!-- ART -->
      <Land_Model_Name> ZB_EL_collector_upgrade_00.alo </Land_Model_Name>
      <Scale_Factor> 0.8 </Scale_Factor>

      <BehaviorType Name="EncyclopediaBehaviorType">
         <Icon_Name> i_icon_mb_matter_sifter.tga </Icon_Name>
      </BehaviorType>

      <BehaviorType Name="TooltipBehaviorType">
         <Tooltip_Description_Text_ID> TEXT_TOOLTIP_DESCRIPTION_MASARI_MATTER_SIFTER_LIGHT_ALT </Tooltip_Description_Text_ID>
         <Tooltip_Category> TEXT_TOOLTIP_CATEGORY_STRUCTURE </Tooltip_Category>
      </BehaviorType>

      <BehaviorType Name="BuildableObjectBehaviorType">
         <Tactical_Buildable_Constructed> Masari_Matter_Engine_Matter_Sifter </Tactical_Buildable_Constructed>
         <Tactical_Build_Cost_Multiplayer> 85 </Tactical_Build_Cost_Multiplayer>
         <Tactical_Build_Cost_Campaign> 85 </Tactical_Build_Cost_Campaign>
         <Tactical_Build_Time_Seconds> 50 </Tactical_Build_Time_Seconds>
      </BehaviorType>

      <Attributes SubObjectList="Yes">
         <Hardpoint_Upgrade_Rate> -0.25 </Hardpoint_Upgrade_Rate>
      </Attributes>

      <!-- Maria 08.09.2006  We want this object to be buildable -->
      <BehaviorType Name="ProductionBehaviorType">
         <Is_Research_Tech_Tree_Lockable> Yes </Is_Research_Tech_Tree_Lockable>
      </BehaviorType>

   </HardPoint>

</Masari_Elemental_Collector_XML>
